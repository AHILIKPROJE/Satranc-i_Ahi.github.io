
<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ahi Bot (Yamak) - Bilgi KÃ¼tÃ¼phanesi</title>
    <style>
        :root { --primary: #3b82f6; --bg-deep: #0f172a; --card-bg: #1e293b; --text-white: #f8fafc; --text-dim: #94a3b8; --bot-bubble: #334155; --user-bubble: #2563eb; --accent: #f59e0b; }
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Inter', sans-serif; }
        body { background-color: var(--bg-deep); height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center; color: var(--text-white); overflow: hidden; }
        
        .main-wrapper { position: relative; width: 600px; display: flex; flex-direction: column; gap: 12px; }
        .back-link { align-self: flex-start; background: rgba(255,255,255,0.05); color: white; padding: 10px 20px; border-radius: 12px; text-decoration: none; font-size: 13px; font-weight: 600; border: 1px solid rgba(255,255,255,0.1); transition: 0.3s; }
        .back-link:hover { background: #ef4444; border-color: #ef4444; }

        .chat-app { width: 100%; height: 850px; max-height: 90vh; background: var(--card-bg); border-radius: 28px; display: flex; flex-direction: column; box-shadow: 0 20px 60px rgba(0,0,0,0.6); border: 1px solid rgba(255,255,255,0.05); }
        .header { padding: 18px 25px; border-bottom: 1px solid rgba(255,255,255,0.05); display: flex; align-items: center; justify-content: space-between; }
        
        .btn-group { display: flex; gap: 8px; }
        .nav-btn { padding: 10px 16px; border-radius: 12px; cursor: pointer; font-size: 12px; font-weight: 700; border: 1px solid rgba(255,255,255,0.1); color: white; background: rgba(255,255,255,0.05); transition: 0.2s; }
        .btn-library { color: var(--accent); border-color: rgba(245, 158, 11, 0.3); }
        .btn-teach { color: #10b981; border-color: rgba(16, 185, 129, 0.3); }

        .chat-view { flex: 1; padding: 20px; overflow-y: auto; display: flex; flex-direction: column; gap: 15px; }
        .msg { max-width: 85%; padding: 14px 18px; border-radius: 18px; font-size: 14.5px; line-height: 1.5; }
        .bot-msg { background: var(--bot-bubble); align-self: flex-start; border-bottom-left-radius: 4px; }
        .user-msg { background: var(--user-bubble); align-self: flex-end; border-bottom-right-radius: 4px; }

        .footer { padding: 18px; display: flex; gap: 10px; background: rgba(0,0,0,0.15); border-radius: 0 0 28px 28px; }
        input { flex: 1; background: #0f172a; border: 1px solid rgba(255,255,255,0.1); padding: 14px; border-radius: 12px; color: white; outline: none; }
        
        /* YAN PANEL */
        .side-panel { position: fixed; right: -450px; top: 0; width: 420px; height: 100%; background: #111827; z-index: 10000; transition: 0.4s; padding: 30px; overflow-y: auto; border-left: 3px solid var(--accent); }
        .side-panel.active { right: 0; }
        .category-title { color: var(--accent); font-size: 12px; font-weight: 800; text-transform: uppercase; margin: 20px 0 10px; letter-spacing: 1px; border-bottom: 1px solid rgba(255,255,255,0.05); padding-bottom: 5px; }
        .question-item { background: rgba(255,255,255,0.03); padding: 12px 15px; border-radius: 10px; margin-bottom: 8px; cursor: pointer; font-size: 13px; line-height: 1.4; border: 1px solid transparent; transition: 0.2s; color: #e2e8f0; }
        .question-item:hover { background: rgba(245, 158, 11, 0.1); border-color: var(--accent); color: white; }

        .overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.9); backdrop-filter: blur(10px); display: none; justify-content: center; align-items: center; z-index: 9999; }
        .overlay.active { display: flex; }
        .modal-box { background: var(--card-bg); padding: 30px; border-radius: 20px; width: 90%; max-width: 400px; text-align: center; border: 1px solid rgba(255,255,255,0.1); }
        .typing { font-size: 11px; color: var(--text-dim); padding: 5px 25px; display: none; }
    </style>
</head>
<body>

<div class="main-wrapper">
    <a href="oyun.html" class="back-link">â† Geri DÃ¶n</a>
    <div class="chat-app">
        <div class="header">
            <div style="display:flex; align-items:center; gap:12px;">
                <div style="width:45px; height:45px; background:var(--primary); border-radius:12px; display:flex; justify-content:center; align-items:center; font-weight:900; font-size:20px;">ğŸ¤–</div>
                <div><h3 style="font-size:16px;">Ahi Bot (Yamak) </h3><span style="font-size:11px; color:#10b981;">â—Aktif</span></div>
            </div>
            <div class="btn-group">
                <button class="nav-btn btn-library" onclick="togglePanel(true)">Ã–rnek Sualler</button>
                <button class="nav-btn btn-teach" onclick="toggleModal('teachOverlay', true)">+ Ã–ÄŸret</button>
            </div>
        </div>
        <div class="chat-view" id="chatBox">
            <div class="msg bot-msg">Ben Ahi Bot.
Bilgiyi ahlakla, Ã¶ÄŸrenmeyi deÄŸerlerle buluÅŸturan dijital yol arkadaÅŸÄ±nÄ±m.

Burada;
ğŸ“š kÃ¼ltÃ¼rel mirasÄ±mÄ±zÄ±,
ğŸ¤ Ahilik anlayÄ±ÅŸÄ±nÄ±,
ğŸ§  Ã¶ÄŸretici bilgileri ve
ğŸ¯ doÄŸruyu, iyiyi ve faydalÄ±yÄ±
birlikte keÅŸfedeceÄŸiz.

Merak ettiÄŸini sor, Ã¶ÄŸrenmek istediÄŸini yaz.
Ben sana sade, anlaÅŸÄ±lÄ±r ve Ã¶ÄŸretici cevaplar vermek iÃ§in buradayÄ±m.

Haydi, bilgeliÄŸe giden yola birlikte Ã§Ä±kalÄ±m. ğŸŒ¿</div>
        </div>
        <div class="typing" id="typing">Ahi Bot yazÄ±yor...</div>
    <div style="display:flex; justify-content:center; margin-bottom:6px;">
    <button id="toggleSuggestBtn" onclick="toggleSuggestions()"
        style="
            background:#1e293b;
            border:1px solid #334155;
            color:#f8fafc;
            padding:6px 14px;
            border-radius:999px;
            font-size:11px;
            cursor:pointer;
            transition:0.2s;
        ">
        ğŸ’¡ Soru Ã–nerileri: AÃ§Ä±k
    </button>
</div>

      <div class="footer">
            <input type="text" id="userInput" placeholder="MesajÄ±nÄ±zÄ± buraya yazÄ±n..." autocomplete="off">
            <button id="sendBtn" onclick="handleSend()" style="background:var(--primary); color:white; border:none; width:50px; border-radius:12px; cursor:pointer; font-size:18px;">â¤</button>
        </div>
    </div>
</div>

<div id="teachOverlay" class="overlay">
    <div class="modal-box">
        <h2 style="margin-bottom:15px; color:#10b981;">Sistemi EÄŸit</h2>
        <input type="text" id="tQ" placeholder="Soru..." style="width:100%; margin-bottom:10px; padding:12px; background:#0f172a; border:1px solid #334155; color:white; border-radius:8px;">
        <input type="text" id="tA" placeholder="Cevap..." style="width:100%; margin-bottom:15px; padding:12px; background:#0f172a; border:1px solid #334155; color:white; border-radius:8px;">
        <button onclick="saveLesson()" style="width:100%; padding:12px; background:#10b981; color:white; border:none; border-radius:8px; cursor:pointer; font-weight:bold;">HafÄ±zaya Al</button>
        <p onclick="toggleModal('teachOverlay', false)" style="margin-top:15px; font-size:12px; cursor:pointer; color:var(--text-dim);">VazgeÃ§</p>
    </div>
</div>

<div id="libraryPanel" class="side-panel">
    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:10px;">
        <h2 style="color:var(--accent); font-size:18px;">Soru KÃ¼tÃ¼phanesi</h2>
        <span onclick="togglePanel(false)" style="cursor:pointer; font-size:28px;">&times;</span>
    </div>
    <div id="fullLibrary"></div>
</div>
<div id="devAlertModal" class="overlay active">
    <div class="modal-box">
        <div style="font-size: 40px; margin-bottom: 15px;">âš ï¸</div>
        <h2 style="color: var(--primary); margin-bottom: 15px;">Sistem Bildirimi</h2>
        <p style="color: var(--text-dim); line-height: 1.6; font-size: 14px; margin-bottom: 25px;">
            Ahi Bot ÅŸu anda <strong>GeliÅŸtirme (Beta)</strong> aÅŸamasÄ±ndadÄ±r. <br><br>
            Soru kÃ¼tÃ¼phanesi ve Ã¶ÄŸrenme fonksiyonlarÄ± aktif olmakla birlikte, bazÄ± yanÄ±tlar test sÃ¼recindedir. Sisteme giriÅŸ yaparak tÃ¼m Ã¶zellikleri kullanmaya baÅŸlayabilirsiniz.
        </p>
        <button onclick="closeWelcomeModal()" style="width:100%; padding:15px; background:var(--primary); border:none; color:white; border-radius:12px; font-weight:bold; cursor:pointer; transition: 0.3s;">
            AnladÄ±m, BaÅŸlat
        </button>
    </div>
</div>
<script>
    const chatBox = document.getElementById('chatBox');
    const userInput = document.getElementById('userInput');
    
    // DEV KÃœTÃœPHANE - TAM CÃœMLELER
    const categories = {
        "GÃœNLÃœK SOHBET": [
            { q: "Merhaba, selam!", a: "Selamlar! Ben Ahi Bot. Size nasÄ±l yardÄ±mcÄ± olabilirim?" },
            { q: "NasÄ±lsÄ±n, nasÄ±l gidiyor?", a: "Ã‡ok iyiyim, teÅŸekkÃ¼r ederim! Sizinle bilgi paylaÅŸmak iÃ§in sabÄ±rsÄ±zlanÄ±yorum." },
            { q: "Sen kimsin ve gÃ¶revin nedir?", a: "Ben Ahi Bot; Tasavvuf kÃ¼ltÃ¼rÃ¼ ve kadim Satranc-Ä± Urefa oyunu Ã¼zerine uzmanlaÅŸmÄ±ÅŸ dijital bir asistanÄ±m." },
            { q: "Neler yapabiliyorsun?", a: "Sana Satranc-Ä± Urefa'nÄ±n sÄ±rlarÄ±nÄ± anlatabilirim, manevi kavramlarÄ± aÃ§Ä±klayabilirim veya senin Ã¶ÄŸrettiÄŸin bilgileri hafÄ±zama alabilirim." },        { q: "BugÃ¼n hava nasÄ±l?", a: "BulunduÄŸun konuma gÃ¶re hava durumu deÄŸiÅŸebilir. Ä°stersen bulunduÄŸun ÅŸehri sÃ¶yle, yorumlayayÄ±m." },
        { q: "Saat kaÃ§?", a: "CihazÄ±nÄ±n saatine gÃ¶re ÅŸu an gÃ¼n iÃ§indeyiz. Net saat iÃ§in cihaz saatini kontrol edebilirsin." },
        { q: "BugÃ¼n hangi gÃ¼n?", a: "BugÃ¼nÃ¼n hangi gÃ¼n olduÄŸunu takviminden gÃ¶rebilirsin. Dilersen gÃ¼nÃ¼n anlamÄ± hakkÄ±nda sohbet edebiliriz." },
        { q: "TÃ¼rkiyeâ€™de gÃ¼ndemde ne var?", a: "GÃ¼ndem; eÄŸitim, ekonomi ve toplumsal geliÅŸmeler etrafÄ±nda ÅŸekilleniyor. GÃ¼ncel konular hakkÄ±nda genel bilgi verebilirim." },
        { q: "BugÃ¼n Ã¶nemli bir olay var mÄ±?", a: "BugÃ¼n iÃ§in Ã¶zel gÃ¼nler veya tarihÃ® olaylar olabilir. Ä°stersen tarihsel bir gÃ¼nÃ¼n anlamÄ±nÄ± anlatabilirim." },
        { q: "BugÃ¼n verimli olmak iÃ§in ne yapmalÄ±yÄ±m?", a: "KÄ±sa hedefler belirle, dikkat daÄŸÄ±tÄ±cÄ±larÄ± azalt ve dÃ¼zenli molalar ver. KÃ¼Ã§Ã¼k adÄ±mlar bÃ¼yÃ¼k fayda saÄŸlar." },
        { q: "BugÃ¼n iÃ§in bir motivasyon sÃ¶zÃ¼ sÃ¶yler misin?", a: "â€˜Azimle yÃ¼rÃ¼yen, yolun sonuna mutlaka ulaÅŸÄ±r.â€™ BugÃ¼n de niyetin yolunu aydÄ±nlatsÄ±n." },
        { q: "BugÃ¼n ne yesem?", a: "Dengeli bir Ã¶ÄŸÃ¼n tercih edebilirsin. Sebze, protein ve su tÃ¼ketimini ihmal etmemek faydalÄ±dÄ±r." },
        { q: "BugÃ¼n spor yapmalÄ± mÄ±yÄ±m?", a: "KÄ±sa bir yÃ¼rÃ¼yÃ¼ÅŸ bile beden ve zihin iÃ§in faydalÄ±dÄ±r. Ä°mkÃ¢nÄ±n varsa hareket etmek iyi gelir." },
        { q: "BugÃ¼n kendimi geliÅŸtirmek iÃ§in ne yapabilirim?", a: "Yeni bir bilgi Ã¶ÄŸrenmek, kÄ±sa bir okuma yapmak veya kendini deÄŸerlendirmek gÃ¼zel bir baÅŸlangÄ±Ã§ olabilir." },
      
            { q: "TeÅŸekkÃ¼r ederim, saÄŸ ol.", a: "Rica ederim, ne zaman istersen buradayÄ±m! BaÅŸka bir sorun var mÄ±?" }
        ],
        "SATRANC-I UREFA (TEMEL)": [
            { q: "Satranc-Ä± Urefa ne anlama gelir?", a: "â€œAriflerin satrancÄ±â€ demektir. Arif, hakikati kavrayan kiÅŸi anlamÄ±na gelir. Oyun tasavvufÃ® bir Ã¶ÄŸreti aracÄ±dÄ±r." },
            { q: "Oyunun tasavvufÃ® baÄŸlamda geliÅŸtirilmesi neyi ifade eder?", a: "Oyunun sadece eÄŸlence iÃ§in deÄŸil, manevi geliÅŸim ve ahlaki deÄŸerleri Ã¶ÄŸretmek iÃ§in tasarlandÄ±ÄŸÄ±nÄ± gÃ¶sterir." },
            { q: "Satranc-Ä± Urefaâ€™nÄ±n kÃ¶keni hangi Ã¼lkeye dayandÄ±rÄ±lÄ±r?", a: "BazÄ± kaynaklar oyunun kÃ¶kenini Hindistanâ€™a dayandÄ±rÄ±r; ancak tasavvuf Ã§evrelerinde Ä°bnÃ¼â€™l-ArabÃ® ile baÄŸlantÄ±lÄ±dÄ±r." },
          
            { q: "Muhyiddin Ä°bnÃ¼â€™l-ArabÃ® ile oyunun iliÅŸkisi nedir?", a: "BazÄ± kaynaklar oyunun, Ã¶ÄŸrencilerine tasavvufÃ® Ã¶ÄŸretiyi anlatmak iÃ§in Ä°bnÃ¼â€™l-ArabÃ® tarafÄ±ndan geliÅŸtirilmiÅŸ olabileceÄŸini sÃ¶yler." },
            { q: "Oyunun tarihÃ® kÃ¶keni neden net deÄŸildir?", a: "Kaynaklar sÄ±nÄ±rlÄ± ve bazen Ã§eliÅŸkilidir; bu yÃ¼zden kesin tarih ve mucit konusunda gÃ¶rÃ¼ÅŸ birliÄŸi yoktur." },
            { q: "Oyun tahtasÄ± kaÃ§ kareden oluÅŸur ve neyi simgeler?", a: "101 kareden oluÅŸur; bu sayÄ±, tasavvufÃ® yolculuktaki manevi basamaklarÄ± ve ilerlemeyi simgeler." }
        ],
        "KAVRAMLAR VE SEMBOLLER": [
            { q: "Oyundaki tilkiler neyi temsil eder?", a: "Tilkiler; kin, haset, kibir gibi kÃ¶tÃ¼ huylarÄ± ve oyuncunun manevi olarak gerilemesini temsil eder." },
            { q: "Oyundaki atlar neyi temsil eder?", a: "Atlar; sevgi, merhamet ve iyi ahlak gibi deÄŸerleri ve oyuncunun manevi yÃ¼kseliÅŸini temsil eder." },
            { q: "â€œVisÃ¢lâ€ oyunda neyi temsil eder?", a: "Hakikate ulaÅŸmayÄ±, manevi olgunluÄŸa ve Allah'a kavuÅŸma noktasÄ±na eriÅŸmeyi temsil eder." },
            { q: "Oyunda ilerleme nasÄ±l saÄŸlanÄ±r?", a: "Oyuncular zar atarak kareler Ã¼zerinde ilerler, karÅŸÄ±laÅŸtÄ±klarÄ± kavramlara gÃ¶re (at veya tilki) yol alÄ±r veya geri giderler." },
            { q: "Satranc-Ä± Urefa klasik satranÃ§tan nasÄ±l farklÄ±dÄ±r?", a: "Strateji ve savaÅŸ oyunu olmaktan Ã§ok, manevi bir seyr-Ã¼ sÃ¼luk (yolculuk) ve ahlak eÄŸitimi aracÄ±dÄ±r." }
        ],
        "KÃœLTÃœREL Ã–NEM": [
            { q: "Modern toplumda oyunun kÃ¼ltÃ¼rel Ã¶nemi nedir?", a: "Tasavvuf kÃ¼ltÃ¼rÃ¼nÃ¼ yaÅŸatÄ±r, manevi Ã¶ÄŸretileri kuÅŸaktan kuÅŸaÄŸa aktarÄ±r ve kÃ¼ltÃ¼rel mirasÄ±n bir parÃ§asÄ±dÄ±r." },
            { q: "EÄŸitimde oyunun hangi yÃ¶nleri Ã¶ne Ã§Ä±kar?", a: "Kelime Ã¶ÄŸretimi, ahlaki deÄŸerler eÄŸitimi ve manevi farkÄ±ndalÄ±k kazandÄ±rma yÃ¶nleri Ã¶ne Ã§Ä±kar." },
            { q: "Oyun gÃ¼nÃ¼mÃ¼zde hangi alanlarda kullanÄ±lmÄ±ÅŸtÄ±r?", a: "EÄŸitim, kÃ¼ltÃ¼rel etkinlikler ve Ã¶zellikle TRT'nin tarihi dizilerinde bir Ã¶ÄŸreti aracÄ± olarak kullanÄ±lmÄ±ÅŸtÄ±r." }
        ],
      futuvvet: [
  {
    q: "FÃ¼tÃ¼vvet nedir?",
    a: "FÃ¼tÃ¼vvet; cÃ¶mertlik, yiÄŸitlik, dÃ¼rÃ¼stlÃ¼k ve baÅŸkalarÄ±nÄ± kendinden Ã¼stÃ¼n tutma anlayÄ±ÅŸÄ±na dayanan bir ahlak sistemidir."
  },
  {
    q: "FÃ¼tÃ¼vvet anlayÄ±ÅŸÄ±nÄ±n temel Ã¶zellikleri nelerdir?",
    a: "FÃ¼tÃ¼vvet anlayÄ±ÅŸÄ±nÄ±n temel Ã¶zellikleri; doÄŸruluk, alÃ§akgÃ¶nÃ¼llÃ¼lÃ¼k, yardÄ±mlaÅŸma, nefsini terbiye etme ve kul hakkÄ±na saygÄ±dÄ±r."
  },
  {
    q: "FÃ¼tÃ¼vvet ile Ahilik arasÄ±nda nasÄ±l bir iliÅŸki vardÄ±r?",
    a: "FÃ¼tÃ¼vvet, Ahilik teÅŸkilatÄ±nÄ±n ahlaki temelini oluÅŸturur. Ahilik, fÃ¼tÃ¼vvet anlayÄ±ÅŸÄ±nÄ± meslek hayatÄ±na uygulamÄ±ÅŸtÄ±r."
  },
  {
    q: "FÃ¼tÃ¼vvetnameler nedir?",
    a: "FÃ¼tÃ¼vvetnameler, fÃ¼tÃ¼vvet ahlakÄ±nÄ± ve uyulmasÄ± gereken kurallarÄ± anlatan yazÄ±lÄ± eserlerdir."
  },
  {
    q: "FÃ¼tÃ¼vvet bir tarikat mÄ±dÄ±r?",
    a: "HayÄ±r. FÃ¼tÃ¼vvet bir tarikat deÄŸil, ahlaki ve toplumsal bir yaÅŸam anlayÄ±ÅŸÄ±dÄ±r."
  },
  {
    q: "FÃ¼tÃ¼vvet anlayÄ±ÅŸÄ± kimler tarafÄ±ndan uygulanmÄ±ÅŸtÄ±r?",
    a: "FÃ¼tÃ¼vvet anlayÄ±ÅŸÄ± Ã¶zellikle esnaf ve zanaatkÃ¢rlar tarafÄ±ndan benimsenmiÅŸ ve uygulanmÄ±ÅŸtÄ±r."
  },
  {
    q: "FÃ¼tÃ¼vvet anlayÄ±ÅŸÄ± gÃ¼nÃ¼mÃ¼zde var mÄ±dÄ±r?",
    a: "FÃ¼tÃ¼vvet anlayÄ±ÅŸÄ± gÃ¼nÃ¼mÃ¼zde bireysel ahlak ve iÅŸ etiÄŸi anlayÄ±ÅŸÄ± iÃ§inde dolaylÄ± olarak varlÄ±ÄŸÄ±nÄ± sÃ¼rdÃ¼rmektedir."
  }
],
guncelAhilik: [
  {
    q: "AhiliÄŸin gÃ¼nÃ¼mÃ¼zdeki karÅŸÄ±lÄ±ÄŸÄ± nedir?",
    a: "AhiliÄŸin gÃ¼nÃ¼mÃ¼zdeki karÅŸÄ±lÄ±ÄŸÄ±; iÅŸ ahlakÄ±, meslek etiÄŸi, kalite anlayÄ±ÅŸÄ± ve tÃ¼ketici haklarÄ±na saygÄ± gibi deÄŸerlerle yaÅŸatÄ±lmaktadÄ±r."
  },
  {
    q: "Ahilik anlayÄ±ÅŸÄ± gÃ¼nÃ¼mÃ¼z esnafÄ±na ne kazandÄ±rÄ±r?",
    a: "Ahilik anlayÄ±ÅŸÄ±; dÃ¼rÃ¼stlÃ¼k, mÃ¼ÅŸteri memnuniyeti, gÃ¼venilirlik ve uzun vadeli kazanÃ§ bilinci kazandÄ±rÄ±r."
  },
  {
    q: "Ahilik ile TSE arasÄ±nda nasÄ±l bir iliÅŸki vardÄ±r?",
    a: "Ahilikte kalite ve standart anlayÄ±ÅŸÄ± bulunmaktaydÄ±. GÃ¼nÃ¼mÃ¼zde bu anlayÄ±ÅŸ, TÃ¼rk StandartlarÄ± EnstitÃ¼sÃ¼ (TSE) tarafÄ±ndan sistemli hale getirilmiÅŸtir."
  },
  {
    q: "Ahilik ile tÃ¼ketici haklarÄ± arasÄ±nda nasÄ±l bir baÄŸlantÄ± vardÄ±r?",
    a: "Ahilikte tÃ¼keticiyi koruma esastÄ±. Hileli mal satmak yasaktÄ±. GÃ¼nÃ¼mÃ¼zde bu anlayÄ±ÅŸ tÃ¼ketici haklarÄ± ve denetim mekanizmalarÄ±yla sÃ¼rdÃ¼rÃ¼lmektedir."
  },
  {
    q: "Ahilik ilkeleri modern ticarette uygulanabilir mi?",
    a: "Evet. DÃ¼rÃ¼stlÃ¼k, ÅŸeffaflÄ±k ve adil kazanÃ§ ilkeleri modern ticarette de sÃ¼rdÃ¼rÃ¼lebilir baÅŸarÄ±nÄ±n temelidir."
  },
  {
    q: "Ahilik dijital ticarette nasÄ±l yorumlanabilir?",
    a: "Dijital ticarette Ahilik; doÄŸru bilgi vermek, gÃ¼venli alÄ±ÅŸveriÅŸ saÄŸlamak ve mÃ¼ÅŸteri verilerini korumak ÅŸeklinde yorumlanabilir."
  },
  {
    q: "Ahilik anlayÄ±ÅŸÄ± gÃ¼nÃ¼mÃ¼zde neden Ã¶nemlidir?",
    a: "GÃ¼nÃ¼mÃ¼zde artan haksÄ±z rekabet ve gÃ¼vensizlik ortamÄ±nda Ahilik, etik ticaret anlayÄ±ÅŸÄ±yla toplumsal gÃ¼veni gÃ¼Ã§lendirir."
  }
],
karsilastirmali: [
  {
    q: "Ahilik ile lonca sistemi arasÄ±ndaki farklar nelerdir?",
    a: "Ahilik yalnÄ±zca meslek dÃ¼zeni deÄŸil, aynÄ± zamanda ahlaki ve sosyal bir sistemdir. Lonca sistemi ise daha Ã§ok ekonomik ve mesleki dÃ¼zenlemelere odaklanmÄ±ÅŸtÄ±r."
  },
  {
    q: "Ahilik ile modern sendikalar arasÄ±nda benzerlik var mÄ±dÄ±r?",
    a: "Her ikisi de Ã§alÄ±ÅŸanlarÄ±n haklarÄ±nÄ± korumayÄ± amaÃ§lar. Ancak Ahilik, ahlak ve toplumsal sorumluluÄŸu sendikalardan daha geniÅŸ ele alÄ±r."
  },
  {
    q: "Ahilik anlayÄ±ÅŸÄ± gÃ¼nÃ¼mÃ¼z iÅŸ dÃ¼nyasÄ±nda nasÄ±l uygulanabilir?",
    a: "ÅeffaflÄ±k, adil Ã¼cret, Ã§alÄ±ÅŸan haklarÄ±na saygÄ± ve mÃ¼ÅŸteri memnuniyeti esas alÄ±narak Ahilik anlayÄ±ÅŸÄ± gÃ¼nÃ¼mÃ¼zde uygulanabilir."
  },
  {
    q: "Ahilik ile gÃ¼nÃ¼mÃ¼z kalite yÃ¶netim sistemleri arasÄ±nda nasÄ±l bir iliÅŸki vardÄ±r?",
    a: "Ahilikte kalite, vicdan ve ahlaka dayanÄ±rdÄ±. GÃ¼nÃ¼mÃ¼z kalite yÃ¶netim sistemleri ise bu anlayÄ±ÅŸÄ± kurallar ve standartlarla gÃ¼vence altÄ±na alÄ±r."
  },
  {
    q: "Ahilik dijital Ã§aÄŸda geÃ§erliliÄŸini korur mu?",
    a: "Evet. Dijital Ã§aÄŸda da dÃ¼rÃ¼stlÃ¼k, gÃ¼ven ve etik deÄŸerler Ã¶nemini korumaktadÄ±r."
  },
  {
    q: "Ahilik anlayÄ±ÅŸÄ± bireysel hayata nasÄ±l yansÄ±r?",
    a: "Ahilik, bireyin yalnÄ±zca iÅŸ hayatÄ±nda deÄŸil, gÃ¼nlÃ¼k yaÅŸamÄ±nda da dÃ¼rÃ¼st, adil ve yardÄ±msever olmasÄ±nÄ± teÅŸvik eder."
  },
  {
    q: "Ahilik neden sadece tarihsel bir yapÄ± olarak gÃ¶rÃ¼lmemelidir?",
    a: "Ahilik, gÃ¼nÃ¼mÃ¼z toplumsal ve ekonomik sorunlarÄ±na Ã§Ã¶zÃ¼m sunabilecek evrensel ahlaki deÄŸerler iÃ§ermektedir."
  }
],
"AHÄ°LÄ°K â€“ GÃœNÃœMÃœZ â€“ YORUM": [
  {
    q: "Ahilik anlayÄ±ÅŸÄ± gÃ¼nÃ¼mÃ¼z meslek hayatÄ±na nasÄ±l uyarlanabilir?",
    a: "DÃ¼rÃ¼stlÃ¼k, iÅŸ ahlakÄ±, mÃ¼ÅŸteri memnuniyeti ve kaliteli Ã¼retim anlayÄ±ÅŸÄ± Ahilikten gÃ¼nÃ¼mÃ¼ze uyarlanabilecek temel deÄŸerlerdir."
  },
  {
    q: "Ahilik ile gÃ¼nÃ¼mÃ¼z kalite anlayÄ±ÅŸÄ± arasÄ±nda nasÄ±l bir iliÅŸki vardÄ±r?",
    a: "Ahilikte kalite vicdana dayanÄ±rken, gÃ¼nÃ¼mÃ¼zde bu anlayÄ±ÅŸ standartlar ve denetim sistemleriyle gÃ¼vence altÄ±na alÄ±nmaktadÄ±r."
  },
  {
    q: "Ahilik anlayÄ±ÅŸÄ± bireysel sorumluluk bilincini nasÄ±l etkiler?",
    a: "Ahilik, bireyin yaptÄ±ÄŸÄ± iÅŸten ve topluma olan etkilerinden sorumlu olmasÄ±nÄ± esas alÄ±r."
  },
  {
    q: "Ahilik ile TSEâ€™nin kalite anlayÄ±ÅŸÄ± arasÄ±nda benzerlik var mÄ±dÄ±r?",
    a: "Her ikisi de standartlara uygun, gÃ¼venilir ve kaliteli Ã¼retimi amaÃ§lar. Ahilik bunu ahlaki deÄŸerlerle, TSE ise teknik Ã¶lÃ§Ã¼tlerle saÄŸlar."
  },
  {
    q: "Ahilik neden sadece geÃ§miÅŸte kalmÄ±ÅŸ bir sistem deÄŸildir?",
    a: "Ahilikte yer alan ahlaki ve mesleki deÄŸerler gÃ¼nÃ¼mÃ¼zde de geÃ§erliliÄŸini korumaktadÄ±r."
  },
  {
    q: "Ahilik anlayÄ±ÅŸÄ± gÃ¼nÃ¼mÃ¼z ticaret ahlakÄ±na ne kazandÄ±rÄ±r?",
    a: "GÃ¼ven, dÃ¼rÃ¼stlÃ¼k ve sÃ¼rdÃ¼rÃ¼lebilir mÃ¼ÅŸteri iliÅŸkileri kazandÄ±rÄ±r."
  },
  {
    q: "Bir esnaf iÅŸini Ã¶zensiz yaparsa Ahilik anlayÄ±ÅŸÄ±na gÃ¶re bu durum nasÄ±l deÄŸerlendirilirdi?",
    a: "Ahilikte iÅŸini Ã¶zensiz yapmak hem mesleÄŸe hem topluma zarar vermek olarak gÃ¶rÃ¼lÃ¼rdÃ¼."
  },
  {
    q: "Ahilik bireyin sadece mesleki deÄŸil hangi yÃ¶nlerini geliÅŸtirir?",
    a: "Ahlaki, sosyal ve toplumsal sorumluluk bilincini geliÅŸtirir."
  },
  {
    q: "Ahilik anlayÄ±ÅŸÄ±nÄ±n gÃ¼nÃ¼mÃ¼z genÃ§lerine kazandÄ±rabileceÄŸi deÄŸerler nelerdir?",
    a: "Sorumluluk bilinci, Ã§alÄ±ÅŸkanlÄ±k, dÃ¼rÃ¼stlÃ¼k ve topluma faydalÄ± olma anlayÄ±ÅŸÄ± kazandÄ±rÄ±r."
  }
],

      "AHÄ°LÄ°K VE FÃœTÃœVVET": [
    {
        q: "Ahilik nedir?",
        a: "Ahilik; dÃ¼rÃ¼stlÃ¼k, yardÄ±mlaÅŸma, meslek ahlakÄ± ve toplumsal dayanÄ±ÅŸmayÄ± esas alan, Anadoluâ€™da geliÅŸmiÅŸ bir esnaf ve ahlak teÅŸkilatÄ±dÄ±r."
    },
    {
        q: "Ahilik teÅŸkilatÄ±nÄ±n kurucusu kimdir?",
        a: "Ahilik teÅŸkilatÄ±nÄ±n kurucusu Ahi Evranâ€™dÄ±r. Kendisi hem bir Ã¢lim hem de bir esnaf Ã¶nderidir."
    },
    {
        q: "FÃ¼tÃ¼vvet nedir?",
        a: "FÃ¼tÃ¼vvet; cÃ¶mertlik, yiÄŸitlik, doÄŸruluk ve baÅŸkasÄ±nÄ± kendine tercih etme anlayÄ±ÅŸÄ±na dayanan ahlaki bir yaÅŸam felsefesidir."
    },
    {
        q: "FÃ¼tÃ¼vvet anlayÄ±ÅŸÄ± Ahilikte nasÄ±l yer alÄ±r?",
        a: "Ahilik, fÃ¼tÃ¼vvet anlayÄ±ÅŸÄ±nÄ± meslek hayatÄ±na uyarlamÄ±ÅŸtÄ±r. EsnafÄ±n hem ahlaklÄ± hem de topluma faydalÄ± olmasÄ±nÄ± hedefler."
    },
    {
        q: "AhiliÄŸin temel ilkeleri nelerdir?",
        a: "DoÄŸruluk, helal kazanÃ§, kalite, dayanÄ±ÅŸma, kanaatkÃ¢rlÄ±k, misafirperverlik ve kul hakkÄ±na saygÄ± AhiliÄŸin temel ilkeleridir."
    },
    {
        q: "Ahilikte meslek ahlakÄ± neden Ã¶nemlidir?",
        a: "Ã‡Ã¼nkÃ¼ Ahilikte yapÄ±lan iÅŸ sadece kazanÃ§ deÄŸil, aynÄ± zamanda topluma karÅŸÄ± bir sorumluluk olarak gÃ¶rÃ¼lÃ¼r."
    },
    {
        q: "Ahilikte usta-Ã§Ä±rak iliÅŸkisi neyi ifade eder?",
        a: "Usta-Ã§Ä±rak iliÅŸkisi, sadece meslek Ã¶ÄŸretimini deÄŸil; ahlak, edep ve sorumluluk bilincinin aktarÄ±lmasÄ±nÄ± ifade eder."
    },
    {
        q: "Ahilikte kalite anlayÄ±ÅŸÄ± nasÄ±ldÄ±r?",
        a: "Ahilikte eksik, hileli ve kusurlu mal satmak yasaktÄ±r. Kalite hem vicdani hem ahlaki bir zorunluluktur."
    },
    {
        q: "AhiliÄŸin gÃ¼nÃ¼mÃ¼zdeki karÅŸÄ±lÄ±ÄŸÄ± nedir?",
        a: "AhiliÄŸin gÃ¼nÃ¼mÃ¼zdeki karÅŸÄ±lÄ±ÄŸÄ±; meslek etiÄŸi, tÃ¼ketici haklarÄ±, kalite standartlarÄ± ve kurumsal denetim anlayÄ±ÅŸÄ±dÄ±r."
    },
    {
        q: "TSE ile Ahilik arasÄ±nda nasÄ±l bir iliÅŸki vardÄ±r?",
        a: "TSE, Ã¼rÃ¼n ve hizmetlerde kaliteyi standartlarla denetler. Ahilik ise bunu vicdan ve ahlak yoluyla saÄŸlamayÄ± amaÃ§lamÄ±ÅŸtÄ±r."
    },
    {
        q: "Ahilikte haksÄ±z rekabet nasÄ±l deÄŸerlendirilir?",
        a: "HaksÄ±z rekabet AhiliÄŸe aykÄ±rÄ±dÄ±r. EsnafÄ±n birbirine zarar vermesi deÄŸil, birlikte geliÅŸmesi esastÄ±r."
    },
    {
        q: "Ahilik anlayÄ±ÅŸÄ± gÃ¼nÃ¼mÃ¼z esnafÄ±na ne kazandÄ±rÄ±r?",
        a: "GÃ¼ven, mÃ¼ÅŸteri sadakati, saygÄ±nlÄ±k ve uzun vadeli baÅŸarÄ± kazandÄ±rÄ±r."
    },
    {
        q: "Ahilik sadece esnafa mÄ± hitap eder?",
        a: "HayÄ±r. Ahilik, herkes iÃ§in geÃ§erli olan bir ahlak ve yaÅŸam anlayÄ±ÅŸÄ±dÄ±r."
    },
    {
        q: "Ahilikte devlet ve toplum iliÅŸkisi nasÄ±ldÄ±r?",
        a: "Ahilik, devlet dÃ¼zenini destekleyen, toplumsal huzuru ve ekonomik dengeyi koruyan bir yapÄ± sunmuÅŸtur."
    },
    {
        q: "Ahilik neden gÃ¼nÃ¼mÃ¼zde hÃ¢lÃ¢ Ã¶nemlidir?",
        a: "Ã‡Ã¼nkÃ¼ dÃ¼rÃ¼stlÃ¼k, kalite ve adalet gibi deÄŸerler zamanla deÄŸil, insanlÄ±kla ilgilidir."
    }
],

    };

    let learnedData = JSON.parse(localStorage.getItem('ahi_v7_final')) || [];

    function toggleModal(id, show) { document.getElementById(id).classList.toggle('active', show); }
    function togglePanel(show) { document.getElementById('libraryPanel').classList.toggle('active', show); }

    // KÃœTÃœPHANEYÄ° OLUÅTUR
    function initLibrary() {
        const libDiv = document.getElementById('fullLibrary');
        for (let cat in categories) {
            const title = document.createElement('div');
            title.className = 'category-title';
            title.innerText = cat;
            libDiv.appendChild(title);
            categories[cat].forEach(item => {
                const qDiv = document.createElement('div');
                qDiv.className = 'question-item';
                qDiv.innerText = item.q;
                qDiv.onclick = () => { handleSend(item.q); togglePanel(false); };
                libDiv.appendChild(qDiv);
            });
        }
    }
    initLibrary();

    function saveLesson() {
        const q = document.getElementById('tQ').value.trim();
        const a = document.getElementById('tA').value.trim();
        if(q && a) {
            learnedData.push({ q, a });
            localStorage.setItem('ahi_v7_final', JSON.stringify(learnedData));
            toggleModal('teachOverlay', false);
            handleSend(q);
            document.getElementById('tQ').value = ""; document.getElementById('tA').value = "";
        }
    }

    function addMessage(text, type) {
        const d = document.createElement('div');
        d.className = `msg ${type}`;
        d.innerText = text;
        chatBox.appendChild(d);
        chatBox.scrollTop = chatBox.scrollHeight;
    }

    function handleSend(manualText = null) {
        const text = manualText || userInput.value.trim();
        if(!text) return;

        addMessage(text, 'user-msg');
        userInput.value = "";
        document.getElementById('typing').style.display = 'block';

        setTimeout(() => {
            document.getElementById('typing').style.display = 'none';
     const answer = findResponse(text);
addMessage(answer, 'bot-msg');

if (suggestionsEnabled) {
    const suggested = suggestQuestions(answer);

    if (suggested.length > 0) {
        const container = document.createElement("div");
        container.className = "msg bot-msg";

        container.innerHTML = `
            <strong>Bunu da merak edebilirsin:</strong><br>
            ${suggested.map(q => `
                <div style="
                    margin-top:6px;
                    padding:6px 10px;
                    background:#0f172a;
                    border:1px solid #334155;
                    border-radius:8px;
                    cursor:pointer;
                    font-size:13px;
                " onclick="handleSend('${q.replace(/'/g, "\\'")}')">
                    ${q}
                </div>
            `).join("")}
        `;

        chatBox.appendChild(container);
        chatBox.scrollTop = chatBox.scrollHeight;
    }
}


        }, 600);
    }

    function findResponse(input) {
        const t = input.toLowerCase();

        // 1. KullanÄ±cÄ± Ã–ÄŸrettikleri
        const userMatch = learnedData.find(i => t.includes(i.q.toLowerCase()) || i.q.toLowerCase().includes(t));
        if(userMatch) return userMatch.a;

        // 2. Ana KÃ¼tÃ¼phane (Derin Tarama)
        for(let cat in categories) {
            const match = categories[cat].find(i => {
                const qLower = i.q.toLowerCase();
                return t.includes(qLower) || qLower.includes(t) 
            });
            if(match) return match.a;
        }

        // 3. Ã‡ok basit selamlaÅŸma fix
        if(t.includes("merhaba") || t.includes("selam")) return "Selam! Ben Ahi Bot. Size nasÄ±l yardÄ±mcÄ± olabilirim?";
        if(t.includes("naber") || t.includes("nasÄ±lsÄ±n")) return "Ä°yiyim, teÅŸekkÃ¼r ederim! Sizinle sohbet etmek harika.";

        return "Bunu henÃ¼z Ã¶ÄŸrenmedim. Ama yan taraftaki Soru Havuzu'ndan bir soru seÃ§ebilir veya '+ Ã–ÄŸret' ile bana Ã¶ÄŸretebilirsin!";
    }

    userInput.onkeypress = (e) => { if(e.key === 'Enter') handleSend(); };
  
  // AÃ§Ä±lÄ±ÅŸ uyarÄ±sÄ±nÄ± kapatan fonksiyon
function closeWelcomeModal() {
    document.getElementById('devAlertModal').classList.remove('active');

    welcomeSound.currentTime = 0;
    welcomeSound.play();
}

let lastSuggestions = [];

function suggestQuestions(answerText) {
    let pool = [];
    const a = answerText.toLowerCase();

    for (let cat in categories) {
        categories[cat].forEach(item => {
            const q = item.q.toLowerCase();

            if (
                (a.includes("ahilik") && q.includes("ahilik")) ||
                (a.includes("fÃ¼tÃ¼vvet") && q.includes("fÃ¼tÃ¼vvet")) ||
                (a.includes("kalite") && q.includes("kalite")) ||
                (a.includes("meslek") && q.includes("meslek")) ||
                (a.includes("esnaf") && q.includes("esnaf"))
            ) {
                pool.push(item.q);
            }
        });
    }

    // Ã–nceki Ã¶nerileri tekrar verme
    pool = pool.filter(q => !lastSuggestions.includes(q));

    // KarÄ±ÅŸtÄ±r
    pool.sort(() => Math.random() - 0.5);

    lastSuggestions = pool.slice(0, 2);
    return lastSuggestions;
}
let suggestionsEnabled = true;

function toggleSuggestions() {
    suggestionsEnabled = !suggestionsEnabled;
    const btn = document.getElementById("toggleSuggestBtn");
    btn.innerText = suggestionsEnabled
        ? "ğŸ’¡ Soru Ã–nerileri: AÃ§Ä±k"
        : "ğŸ’¤ Soru Ã–nerileri: KapalÄ±";
}
const welcomeSound = new Audio("a.mp3");
welcomeSound.volume = 0.45;
welcomeSound.loop = true;

</script>
</body>
</html>
