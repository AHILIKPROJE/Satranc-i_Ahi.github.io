<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Satrancı Ahi</title>

    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&display=swap" rel="stylesheet">

    <style>
        body, html {
            margin:0;
            padding:0;
            width:100%;
            height:100%;
            font-family: 'Georgia', serif;
            overflow:hidden;
            display:flex;
            justify-content:center;
            align-items:center;
            flex-direction:column;
            color:#f8e7c3;
            background: radial-gradient(circle at center, #2b1e12, #000000);
            position:relative;
        }

        /* Logo Animasyonu */
        #logoContainer {
            width:300px;
            height:300px;
            border-radius:50%;
            border:5px solid #b68a1f;
            display:flex;
            justify-content:center;
            align-items:center;
            font-size:36px;
            font-weight:bold;
            color:#f9d976;
            background: radial-gradient(circle at center, #3d2a1a, #000);
            text-shadow: 0 0 20px #f9d976, 0 0 35px #b68a1f;
            opacity:0;
            transform: scale(0);
            transition:1.5s;
        }

        /* Ahilik Kapısını Aç Butonu */
        #openContainer {
            display:none;
            flex-direction:column;
            align-items:center;
            z-index:10;
        }

        #openButton {
            margin-top:20px;
            padding:10px 25px;
            font-size:20px;
            font-weight:bold;
            background:#b68a1f;
            color:#000;
            border:none;
            border-radius:10px;
            cursor:pointer;
            box-shadow:0 0 10px #f9d976;
            transition:0.3s;
        }

        #openButton:hover {
            background:#f9d976;
            transform: scale(1.05);
        }

        /* Karartma efekti */
        #fadeOverlay {
            position:fixed;
            inset:0;
            background:black;
            opacity:0;
            pointer-events:none;
            transition: opacity 1s ease;
            z-index:50;
        }

        /* Loading ekranı */
        #loadingContainer {
            display:none;
            flex-direction:column;
            align-items:center;
            margin-top:70px;
        }

        #loadingQuote {
            font-family: 'Playfair Display', serif;
            font-size:22px;
            font-weight:bold;
            margin-bottom:20px;
            text-align:center;
        }

        #loadingBarContainer {
            width:85%;
            max-width:650px;
            height:40px;
            border:4px solid #b68a1f;
            border-radius:25px;
            background:#3a2818;
            overflow:hidden;
        }

        #loadingBar {
            width:0%;
            height:100%;
            background: linear-gradient(90deg, #f9d976, #b68a1f, #f9d976);
        }

        #loadingPercent {
            margin-top:10px;
            font-size:20px;
            font-weight:bold;
        }

        #welcomeMessage {
            font-size:36px;
            font-weight:bold;
            margin-top:25px;
            color:#f9d976;
            text-shadow:0 0 20px #f9d976,0 0 35px #b68a1f;
            opacity:0;
            transition:1s;
            display:flex;
            flex-direction:column;
            align-items:center;
        }
      
   #eduNote {
    margin-top: 10px;
    font-size: 13px;
    font-family: 'Playfair Display', serif;
    color: #e6d3a3;
    opacity: 0.85;
    text-align: center;
    max-width: 320px;
    line-height: 1.4;
    text-shadow: 0 0 8px rgba(182,138,31,0.4);
}
   
      
    </style>
</head>

<body>

<audio id="doorSound" src="kapiacilma.mp3" preload="auto"></audio>
<audio id="bgMusic" src="muzik2.mp3" loop preload="auto"></audio>

<div id="logoContainer">Satrancı Ahi</div>

<div id="openContainer">
    <button id="openButton">Ahilik Kapısını Aç</button>

    <div id="eduNote">
        Bu site Ahilik değerlerini öğreten bir eğitim oyunudur.Başlamak için tıklayınız.
    </div>
</div>

<div id="fadeOverlay"></div>

<div id="loadingContainer">
    <div id="loadingQuote"></div>
    <div id="loadingBarContainer">
        <div id="loadingBar"></div>
    </div>
    <div id="loadingPercent">0%</div>
    <div id="welcomeMessage">Ahilik Kapısı Açılıyor...</div>
</div>

<script>
// Elementleri Tanımlama
const logo = document.getElementById("logoContainer");
const openContainer = document.getElementById("openContainer");
const openButton = document.getElementById("openButton");
const fadeOverlay = document.getElementById("fadeOverlay");
const doorSound = document.getElementById("doorSound");
const bgMusic = document.getElementById("bgMusic");

const loadingContainer = document.getElementById("loadingContainer");
const loadingBar = document.getElementById("loadingBar");
const loadingPercent = document.getElementById("loadingPercent");
const loadingQuote = document.getElementById("loadingQuote");
const welcomeMessage = document.getElementById("welcomeMessage");

const quotes = [
    "Ahilik, erdemli iş yapmaktır.",
    "Emek ve doğruluk ahiliğin temelidir.",
    "Bilgi ve beceri bir arada olmalı.",
    "İyilik yap, kazanacak sen olacaksın.",
    "Ortak çalışmak güç getirir"
];

// Arka plan müziği ses seviyesi (Alçak seviye)
bgMusic.volume = 0.2;

// 1. Logo Animasyonu Başlangıcı
setTimeout(() => {
    logo.style.opacity = 1;
    logo.style.transform = "scale(1)";
}, 100);

// 2. Logo Kayboluşu ve Butonun Gelişi
setTimeout(() => {
    logo.style.opacity = 0;
    logo.style.transform = "scale(0)";
    setTimeout(() => {
        logo.style.display = "none";
        openContainer.style.display = "flex";
    }, 500);
}, 2000);

// 3. BUTONA TIKLANDIĞINDA MÜZİK VE GEÇİŞ BAŞLAR
openButton.addEventListener("click", () => {
    // --- MÜZİK BURADA BAŞLIYOR ---
    bgMusic.play().catch(error => console.log("Müzik dosyası bulunamadı veya yüklenemedi."));

    // Görsel efektleri başlat
    openContainer.style.display = "none";
    fadeOverlay.style.pointerEvents = "auto";
    fadeOverlay.style.opacity = 1;

    // Kapı sesi efekti (Müzikle karışması için 2sn sonra)
    setTimeout(() => {
        doorSound.currentTime = 0;
        doorSound.volume = 0.5;
        doorSound.play();
    }, 2000);

    // Loading ekranına geçiş
    setTimeout(() => {
        fadeOverlay.style.opacity = 0;
        fadeOverlay.style.pointerEvents = "none";
        loadingContainer.style.display = "flex";
        loadingQuote.textContent = quotes[Math.floor(Math.random() * quotes.length)];

        let progress = 0;
        const interval = setInterval(() => {
            progress += Math.random() * 1.5 + 0.5;
            if (progress > 100) progress = 100;

            loadingBar.style.width = progress + "%";
            loadingPercent.textContent = Math.floor(progress) + "%";

            if (progress === 100) {
                clearInterval(interval);
                loadingQuote.style.display = "none";
                loadingBar.style.display = "none";
                loadingPercent.style.display = "none";
                welcomeMessage.style.opacity = 1;

                // Kayıt sayfasına yönlendirme
                setTimeout(() => { 
                    window.location.href = "kayıt.html"; 
                }, 2000);
            }
        }, 60);
    }, 1000);
});
</script>

</body>
</html>
