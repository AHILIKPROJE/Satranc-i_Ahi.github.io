<!DOCTYPE html>
<html lang="tr">
<head>
  
<meta charset="utf-8">
<title>√úrefa - Zamanlƒ± Oyun (XP & Level Sistemli)</title>
<style>
:root{
  --board-size:700px;
  --frame-color:#3b1f0b;
  --frame-bg:#5c3a1a;
  --cell-bg:#f5f5dc;
  --cell-border:#c9a86e;
}
html,body{margin:0;padding:0;width:100%;height:100%;background:#22262f;display:flex;align-items:center;justify-content:center;font-family:Arial,Helvetica,sans-serif;}
#container{display:flex;gap:36px;align-items:flex-start;}
#board-frame{
  width:var(--board-size);height:var(--board-size);background:var(--frame-bg);
  border:10px solid var(--frame-color);border-radius:12px;box-shadow:0 8px 24px rgba(0,0,0,0.6);position:relative;
}
#board{
  position:absolute; left:4%; top:4%; width:92%; height:92%;
  background:#d2b48c;border-radius:6px; box-shadow: inset 0 0 18px rgba(0,0,0,0.25); overflow:hidden;
}
.cell{
  position:absolute;
  box-sizing:border-box;
  background:var(--cell-bg);
  border:1px solid var(--cell-border);
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:600;
  color:#5a4a32;
  overflow:visible;
}
.cellIcon{
  position:absolute;
  left:50%;top:50%;
  transform:translate(-50%,-50%);
  pointer-events:none;user-select:none;
  display:flex;align-items:center;justify-content:center;z-index:30;
}
.piece {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: 80px;
  height: 80px;
  border-radius: 50%; /* G√∂rsel zaten yuvarlak, opsiyonel */
  background-image: url('https://i.imgur.com/rslXAh7.png'); /* Senin ta≈ü g√∂rseli */
  background-size: cover;       /* Ta≈üƒ±n tamamƒ±nƒ± kaplasƒ±n */
  background-position: center;
  box-shadow: 0 0 18px rgba(255,200,20,0.9), inset 0 -6px 10px rgba(0,0,0,0.15); /* ƒ∞stersen glow bƒ±rak */
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  color: #000;
  z-index: 100;
  transition: transform 180ms linear;
}

#valueDisplay{
  position:absolute; left:50%; top:50%; transform:translate(-50%,-50%) scale(0.9);
  display:none; z-index:600; background:linear-gradient(135deg,#fff1c6,#f0d8a6);
  color:#5a2e0d; padding:22px 28px;border-radius:16px;border:3px solid #8b5a2b;
  font-family:'Georgia',serif; font-size:1.1rem; font-weight:bold; text-align:center;
  box-shadow:0 0 25px rgba(255,215,0,0.7), inset 0 0 15px rgba(255,255,224,0.5); opacity:0; transition:all .35s ease;
}
#valueDisplay.show{ display:block; opacity:1; transform:translate(-50%,-50%) scale(1); }
/* MiniGame Butonu */
.miniGameArea {
  margin-top: 15px;
  display: flex;
  justify-content: center;
}

#miniGameBtn {
  font-size: 20px;
  font-weight: bold;
  padding: 12px 28px;
  background: linear-gradient(135deg, #ffd700, #ffb700);
  color: #000;
  border: 3px solid #fff;
  border-radius: 12px;
  box-shadow: 0 0 12px rgba(255, 215, 0, 0.8);
  cursor: pointer;
  transition: 0.2s;
}

#miniGameBtn:hover {
  transform: scale(1.05);
  box-shadow: 0 0 20px rgba(255, 215, 0, 1);
}

/* Popup */
.popup {
  display: none; 
  position: fixed; 
  z-index: 999; 
  left: 0;
  top: 0;
  width: 100%; 
  height: 100%; 
  overflow: auto; 
  background-color: rgba(0,0,0,0.7);
}

.popupContent {
  background-color: #1f2937;
  margin: 10% auto; 
  padding: 20px;
  border: 3px solid #ffd700;
  border-radius: 15px;
  width: 350px;
  text-align: center;
  color: #fff;
}

#closePopup {
  float: right;
  font-size: 28px;
  font-weight: bold;
  cursor: pointer;
}

.cards {
  display: flex;
  flex-direction: column;
  gap: 10px;
  margin-top: 20px;
}

.card {
  background: linear-gradient(135deg, #ffb700, #ffd700);
  color: #000;
  padding: 12px;
  border-radius: 10px;
  font-weight: bold;
  cursor: pointer;
  transition: 0.2s;
}
#musicButton {
    position: fixed;
    top: 20px;       /* yukarƒ±dan 20px */
    right: 120px;    /* saƒüdan 120px = biraz sol */
    background-color: #FDF5E6;
    color: white;
    border: none;
    border-radius: 8px;
    padding: 12px 15px;
    font-size: 22px;
    cursor: pointer;
    z-index: 1000;
}
#musicButton:hover {
    background-color: #ffa500;
}

.card:hover {
  transform: scale(1.05);
  box-shadow: 0 0 15px rgba(255, 215, 0, 0.8);
}
#profileBtn {
    position: fixed;
    top: 120px;
    right: 20px;
    padding: 12px 22px;
    border-radius: 50px;
    background: linear-gradient(135deg, #f5d48a, #b88a30);
    color: #1a1a1a;
    font-weight: 700;
    cursor: pointer;
    z-index: 9999;
    border: none;
    box-shadow: 0 0 12px rgba(0,0,0,0.45);
    transition: 0.2s;
}
#profileBtn:hover {
    transform: scale(1.12);
    box-shadow: 0 0 18px #f5d48a;
}

#overlayBG {
    position: fixed;
    display: none;
    top:0; left:0;
    width:100%; height:100%;
    background: rgba(0,0,0,0.65);
    z-index: 9998;
}

#profilePanel {
    position: fixed;
    top: 50%;
    left: 50%;
    width: 520px;
    transform: translate(-50%, -50%) scale(0.7);
    background: linear-gradient(135deg, #120d08, #2a2015);
    border: 3px solid #b88a30;
    border-radius: 25px;
    padding: 25px;
    display: none;
    z-index: 10000;
    box-shadow: 0 0 35px rgba(0,0,0,0.7);
    animation: openPanel 0.35s forwards;
    color: #fff;
}

@keyframes openPanel {
    from { opacity:0; transform: translate(-50%, -50%) scale(0.7); }
    to   { opacity:1; transform: translate(-50%, -50%) scale(1); }
}

#profileHeader {
    display: flex;
    align-items: center;
    gap: 15px;
}

#avatarIcon {
    width: 75px;
    height: 75px;
    background: #3e2e1c;
    border-radius: 50%;
    border: 3px solid #b88a30;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 40px;
}

#profileTexts {
    display: flex;
    flex-direction: column;
}

#profileName {
    font-size: 26px;
    font-weight: 700;
    color: #f5d48a;
}

#profileTag {
    font-size: 14px;
    opacity: 0.75;
    letter-spacing: 1px;
}

.profileTabs {
    margin-top: 20px;
    display: flex;
    justify-content: space-between;
}
.profileTab {
    padding: 10px 15px;
    background: #2d2316;
    border-radius: 10px;
    cursor: pointer;
    font-weight: 600;
    transition: 0.2s;
    width: 48%;
    text-align: center;
}
.profileTab:hover {
    background: #3c2f1c;
}
.profileTab.active {
    background: #f5d48a;
    color: black;
}

.tabContent {
    margin-top: 20px;
    display: none;
}

.badgeLocked {
    width: 90px;
    height: 90px;
    background: #251c12;
    border: 2px solid #b88a30;
    border-radius: 15px;
    margin: 8px;
    color: #f5d48a;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 35px;
    transition: 0.25s;
}
.badgeLocked:hover {
    transform: scale(1.12);
    background: #f5d48a;
    color: #1a1a1a;
}

/* --- LEVEL BAR --- */
#levelBox{
  background:#fff;padding:10px;border-radius:10px;margin-bottom:14px;
  box-shadow:0 4px 10px rgba(0,0,0,0.4);color:#000;font-weight:bold;
}
#levelName{text-align:center;font-size:18px;margin-bottom:6px;}
#xpBar{
  width:100%;height:22px;background:#5e5c5c;border-radius:10px;overflow:hidden;
}
#xpFill{
  height:100%;width:0%;background:linear-gradient(120deg,#00d09c,#0d8f43);
}
#xpText{
  position:relative;top:-20px;text-align:center;font-size:13px;font-weight:bold;color:#000;
}

/* CONTROLS */
#controls{width:260px;color:#fff;}
.controlsCard{background:linear-gradient(180deg,#2b2f33,#222);padding:16px;border-radius:10px;box-shadow:0 8px 24px rgba(0,0,0,0.5);}
.buttonArea{display:flex;align-items:center;gap:12px;margin-bottom:12px;}
button{padding:8px 12px;border-radius:8px;border:none;background:#00d09c;color:#000;font-weight:700;cursor:pointer;box-shadow:0 4px 8px rgba(0,0,0,0.4);}
#dice{width:52px;height:52px;background:#fff;border-radius:8px;display:flex;align-items:center;justify-content:center;font-weight:800;color:#000;}
#diceTime{background:linear-gradient(120deg,#ffd700,#ff9900);color:#000;font-weight:700;padding:6px 10px;border-radius:8px;}
#timer{background:linear-gradient(120deg,#ff5a5a,#ff0000);color:#fff;font-weight:bold;padding:10px;border-radius:10px;font-size:1.2rem;text-align:center;margin-top:8px;}
.rollAnim{animation:roll 900ms ease;}
@keyframes roll{0%{transform:rotateX(0) rotateY(0) scale(1);}25%{transform:rotateX(180deg) rotateY(90deg) scale(1.25);}50%{transform:rotateX(360deg) rotateY(180deg) scale(1.1);}75%{transform:rotateX(540deg) rotateY(270deg) scale(1.15);}100%{transform:rotateX(720deg) rotateY(360deg) scale(1);}}

.explosion{position:absolute;width:120px;height:120px;border-radius:50%;pointer-events:none;z-index:550;transform:translate(-50%,-50%) scale(0);opacity:0.9;animation:explode 0.6s forwards;}
@keyframes explode{0%{transform:translate(-50%,-50%) scale(0);opacity:1;}50%{transform:translate(-50%,-50%) scale(1.2);opacity:0.9;}100%{transform:translate(-50%,-50%) scale(1);opacity:0;}}

.questionPopup{
  position:fixed;left:50%;top:50%;transform:translate(-50%,-50%);
  background:#FDFFF5;padding:18px;border-radius:12px;z-index:700;width:360px;text-align:center;
  font-family:Arial;box-shadow:0 8px 48px rgba(0,0,0,0.6);
}
.questionPopup button{margin:8px;padding:8px 12px;border-radius:8px;border:none;background:linear-gradient(120deg,#00d09c,#00b387);color:#0D0EOE;font-weight:bold;cursor:pointer;}

.restartBtn{
  margin-top:14px;padding:8px 14px;border:none;border-radius:8px;
  background:#00d09c;color:#000;font-weight:bold;cursor:pointer;
}

.infoPopup{
  position:fixed;left:50%;top:50%;transform:translate(-50%,-50%);
  background:#fff;color:#1B1813;padding:20px;border-radius:12px;z-index:800;width:400px;text-align:center;
  box-shadow:0 8px 48px rgba(0,0,0,0.6);
}
#bgParticles {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    overflow: hidden;
    z-index: 0; /* ta≈ülarƒ±n ve panelin altƒ±nda */
}
.particle {
    position: absolute;
    width: 6px;
    height: 6px;
    background: rgba(255,215,0,0.8); /* altƒ±n rengi */
    border-radius: 50%;
    opacity: 0;
    animation: floatParticle 5s linear infinite;
}

@keyframes floatParticle {
    0% { transform: translateY(100vh) translateX(0); opacity:0; }
    10% { opacity:1; }
    100% { transform: translateY(-10vh) translateX(50px); opacity:0; }
}

/* --- GAME OVER POPUP --- */
.gameOverOverlay{
  position:fixed;inset:0;background:rgba(0,0,0,0.65);display:flex;align-items:center;justify-content:center;z-index:9999;
}
.gameOverBox{
  background:#fff;border-radius:12px;padding:22px;width:360px;text-align:center;box-shadow:0 12px 40px rgba(0,0,0,0.6);
  font-weight:700;color:#222;
}
.gameOverBox h2{margin:0 0 8px 0;font-size:20px;}
.gameOverBox p{margin:6px 0 16px 0;font-weight:600;color:#333;}
.gameOverBox .btns{display:flex;gap:12px;justify-content:center;}
.gameOverBox .btns button{flex:1;padding:10px;border-radius:10px;border:none;cursor:pointer;font-weight:800;}
.gameOverBox .btn-restart{background:linear-gradient(120deg,#00d09c,#00b387);color:#000;}
.gameOverBox .btn-menu{background:linear-gradient(120deg,#ffd700,#ff9900);color:#000;}
  .startBtnArea {
    width: 100%;
    display: flex;
    justify-content: center;
    margin-top: 15px;
}
/* G√∂rev Butonu */
#gorevButon {
    position: fixed;
    top: 20px;
    left: 20px;
    background: linear-gradient(135deg, #e6c14e, #b28527);
    padding: 12px 22px;
    color: black;
    font-weight: bold;
    border-radius: 10px;
    cursor: pointer;
    user-select: none;
    box-shadow: 0 0 15px #e6c14e;
    z-index: 9999;
    transition: 0.2s;
}

#gorevButon:hover {
    box-shadow: 0 0 25px #ffd563;
}


/* Panel */
#gorevPanel {
    position: fixed;
    top: 80px;
    left: 20px;
    width: 280px;
    background: rgba(10, 10, 10, 0.92);
    border: 2px solid #e6c14e;
    padding: 20px;
    border-radius: 15px;
    box-shadow: 0 0 25px #e6c14e;
    backdrop-filter: blur(5px);
    display: none;
    z-index: 9999;
}

/* Panel Ba≈ülƒ±ƒüƒ± */
.panelBaslik {
    text-align: center;
    font-size: 22px;
    color: #ffd563;
    margin-bottom: 15px;
    text-shadow: 0 0 10px #ffd563;
}

/* G√∂rev Kutularƒ± */
.gorev {
    background: rgba(40, 40, 40, 0.8);
    padding: 10px;
    border-left: 4px solid #e6c14e;
    border-radius: 8px;
    margin-bottom: 10px;
}

.gorevAdi {
    color: white;
    font-size: 15px;
    margin-bottom: 5px;
}

.gorevDurum {
    color: #ffd563;
    font-weight: bold;
    font-size: 14px;
}

#rollBtn {
    font-size: 22px;
    font-weight: bold;
    padding: 14px 30px;
    background: linear-gradient(135deg, #ffd700, #ffb700);
    color: #000;
    border: 3px solid #fff;
    border-radius: 14px;
    box-shadow: 0 0 15px rgba(255, 215, 0, 0.8);
    cursor: pointer;
    transition: 0.2s;
}

#rollBtn:hover {
    transform: scale(1.08);
    box-shadow: 0 0 22px rgba(255, 215, 0, 1);
}
.infoRow {
    position: absolute;
    top: 17px;               /* üîº Bir tƒ±k yukarƒ± */
    right: 190px;            /* ‚¨Ö Biraz daha sola */
    background: rgba(0, 0, 0, 0.55);
    padding: 10px 20px;
    border-radius: 16px;
    backdrop-filter: blur(8px);
    border: 1px solid rgba(255, 215, 0, 0.55);
    font-size: 19px;
    z-index: 9999;
    display: flex;
    gap: 22px;
    align-items: center;

    /* √ßok daha profesyonel bir parlama */
    box-shadow:
      0 0 14px rgba(255,215,0,0.28),
      inset 0 0 8px rgba(255,215,0,0.15);
}

/* Ak√ße ikonu */
.akceBox::before {
    content: "ü™ô";
    margin-right: 6px;
    filter: drop-shadow(0 0 4px rgba(255,215,0,0.4));
}

</style>
</head>
<body>
<div class="chest" id="chest" style="display:none;">
    <div class="top"></div>
    <div class="bottom"></div>
    <div class="lock"></div>
    <div class="light"></div>
</div>
<div id="reward"></div>
  
<!-- G√∂revler A√ßma Butonu -->
<div id="gorevButon">‚öîÔ∏è G√∂revler</div>

<!-- G√∂rev Paneli -->
<div id="gorevPanel">

    <h2 class="panelBaslik">G√∂revler</h2>

    <!-- G√∂rev 1 -->
    <div class="gorev">
        <div class="gorevAdi">‚è≥ 5 dakika boyunca oyunda kal</div>
        <div class="gorevDurum" id="g1durum">Bekliyor</div>
    </div>

    <!-- G√∂rev 2 -->
    <div class="gorev">
        <div class="gorevAdi">üñ±Ô∏è 30 kez tƒ±kla</div>
        <div class="gorevDurum" id="g2durum">Bekliyor</div>
    </div>

    <!-- G√∂rev 3 -->
    <div class="gorev">
        <div class="gorevAdi">üë£ Toplam adƒ±mda 35‚Äôe ula≈ü</div>
        <div class="gorevDurum" id="g3durum">Bekliyor</div>
    </div>

</div>

<div id="bgParticles"></div>

<div id="container">

  <div id="board-frame">
    <div id="board"></div>
    <div id="valueDisplay"></div>
    <div class="piece" id="piece"></div>
  </div>

  <div id="controls">

    <!-- XP ‚Äì LEVEL KISMI -->
    <div id="levelBox">
      <div id="levelName">Yamaklƒ±k</div>
      <div id="xpBar">
        <div id="xpFill"></div>
      </div>
      <div id="xpText">0 / 100 XP</div>
    </div>

    <div class="controlsCard">
      <div class="buttonArea">
        <button id="rollBtn">üé≤ Ba≈üla</button>
        <div id="dice">1</div>
        <div id="diceTime">3s</div>
      </div>

      <div id="timer">02:30</div>
      
<button id="musicButton">üéµ</button>

<div id="superpowers">
    <button id="spPlusTwo">+2 ƒ∞lerleme (10 AK√áE)</button>
    <button id="spPlusTime">+10 Saniye (10 AK√áE)</button>
    <button id="spAutoAnswer">Oto Cevap (10 AK√áE)</button>
    <button id="spMinFour">Min 4 Zar (10 AK√áE)</button>
</div>
 <!-- Super G√º√ßler altƒ±na eklenecek MiniGame butonu -->
<div class="miniGameArea">
  <button id="miniGameBtn">üé¥ MiniGame</button>
</div>

<!-- Popup -->
<div id="miniGamePopup" class="popup">
  <div class="popupContent">
    <span id="closePopup">&times;</span>
    <h2>MiniGame</h2>
    <div class="cards">
      <div class="card" data-link="tartƒ±.html">1. Tartƒ±</div>
      <div class="card" data-link="helal.html">2. Helal/Haram</div>
      <div class="card" data-link="soz.html">3. S√∂z</div>
     <div class="card" data-link="lazer.html">4. Lazer</div>
    </div>
  </div>
</div>
 
      <div class="infoRow" style="margin-top:12px;color:#fff;">
        <div>Ak√ße: <span class="akceBox" id="akce">50</span></div>
        <div>Toplam: <span id="moveCount">0</span></div>
      </div>
    </div>

  </div>
</div>

<div class="infoPopup" id="infoPopup">
  <h1>-Oyun Bilgisi-</h1>
  <p>*ü¶ä Tilki sizi 3 kare geri getirir.<br>
    * üê¥ At sizi 3 kare ileri ta≈üƒ±r.<br>
 *G√º√ß satƒ±n alarak ilerlemenizi kolayla≈ütƒ±rabilirsiniz.<br>
*Oyun sonlarƒ±nda sandƒ±k a√ßarak ak√ße kazanabilirsiniz.<br>
    * Her 3 karede bir soru √ßƒ±kar.<br>
    * Doƒüru cevap verirsen ilerler.<br>
    * Yanlƒ±≈ü cevapta s√ºre -10 saniye.</p>
  <button id="infoOkBtn">Anladƒ±m</button>
</div>
  <div id="overlayBG"></div>

<div id="profilePanel">
    
    <div id="profileHeader">
        <div id="avatarIcon">üé≤</div>
        <div id="profileTexts">
            <div id="profileName">Kullanƒ±cƒ±</div>
            <div id="profileTag">#kullanici</div>
        </div>
    </div>

    <div class="profileTabs">
        <div class="profileTab active" data-tab="infoTab">Bilgiler</div>
        <div class="profileTab" data-tab="badgesTab">Rozetler</div>
    </div>

    <div id="infoTab" class="tabContent" style="display:block;">
        <p style="opacity:0.8;">Yakƒ±nda...</p>
    </div>

    <div id="badgesTab" class="tabContent">
        <div style="display:flex; flex-wrap:wrap; justify-content:center;">
            <div class="badgeLocked">?</div>
            <div class="badgeLocked">?</div>
            <div class="badgeLocked">?</div>
            <div class="badgeLocked">?</div>
        </div>
        <p style="text-align:center; opacity:0.8; margin-top:10px;">
            Seviyeni y√ºkselterek benzersiz rozetlerin kilidini a√ßabilirsin!
        </p>
    </div>
</div>

<button id="profileBtn">Profil</button>

<script>
let winSounds = [
    new Audio("zafer1.mp3"),
    new Audio("zafer2.mp3"),
    new Audio("zafer3.mp3"),
    new Audio("zafer4.mp3")
];

let loseSounds = [
    new Audio("motive1.mp3"),
    new Audio("motive2.mp3"),
    new Audio("motive3.mp3")
];

function playWinSound(){
    winSounds[Math.floor(Math.random() * winSounds.length)].play();
}

function playLoseSound(){
    loseSounds[Math.floor(Math.random() * loseSounds.length)].play();
}

 const jobs = {
  "Marangoz": { 
    skill: "Her hamlede +1 kare ilerler",
    onMove: (val) => val + 1 // Zar deƒüerine +1 ekler
  },
  "Debbaƒü": { 
    skill: "Oyuna +30 saniye eklenir",
    onStart: () => { totalSeconds += 30; } // Oyuna ba≈ülarken uygulanƒ±r
  },
  "T√ºccar": { 
    skill: "Super g√º√ßlerin fiyatlarƒ±nƒ± %20 d√º≈ü√ºr√ºr",
    onBuyPower: (price) => Math.floor(price * 0.8) // G√º√ß alƒ±rken uygulanƒ±r
  },
  "Demirci": { 
    skill: "ƒ∞lk zar atƒ±≈üƒ± 6 gelir",
    onFirstRoll: () => 6 // ƒ∞lk zar 6 gelir
  }
};



// XP Sƒ∞STEMƒ∞ -----------------------------------------------------
let totalXP = 0;
let level = 0;
const levelNames = ["Yamaklƒ±k","√áƒ±rak","Kalfa","Usta","Ahi ≈ûefi"];
const XP_PER_LEVEL = 100;

function updateXPBar(){
  document.getElementById("levelName").textContent = levelNames[level];

  let current = totalXP % XP_PER_LEVEL;
  let percent = (current / XP_PER_LEVEL) * 100;

  document.getElementById("xpFill").style.width = percent + "%";
  document.getElementById("xpText").textContent = `${current} / ${XP_PER_LEVEL} XP`;
}

function addXP(amount){
  totalXP += amount;
  let newLevel = Math.floor(totalXP / XP_PER_LEVEL);
  if(newLevel > level && newLevel < levelNames.length){
    level = newLevel;
  }
  updateXPBar();
}

// --- OYUN DEƒûƒ∞≈ûKENLERƒ∞ ---
let playerAkce = 50;
const ROWS = 7, COLS = 7;
const TOTAL = ROWS * COLS;
let positions = [], cells = [], piecePos = 0;
let canRoll = false, gameOver = false, moveCount = 0;
let totalSeconds = 150;
// 
// Sorular -------------------------------------------------------
let questions = [
  {q:"Ahilik kelimesinin anlamƒ± a≈üaƒüƒ±dakilerden hangisidir?", a:["ƒ∞ktidar sahibi","Karde≈üim / eli a√ßƒ±k","Zengin esnaf","C√∂mert esnaf"], correct:1, hint:"Ahilik karde≈ülik ve payla≈üƒ±m temelli bir sistemdir."},
  {q:"Ahi Evran‚Äôƒ±n doƒüum yeri neresidir?", a:["Kƒ±r≈üehir","Kayseri","Hoy (ƒ∞ran)","Konya"], correct:2, hint:"Anadolu dƒ±≈üƒ±nda bir merkez."},
  {q:"Ahi Evran, Ahilik te≈ükilatƒ±nƒ± √∂zellikle hangi meslek gruplarƒ±yla kurmu≈ütur?", a:["Dericiler ve t√ºccarlar","Askerler","√áift√ßiler","Dokumacƒ±lar"], correct:0, hint:"Esnaf ve √ºreticiler aƒüƒ±rlƒ±klƒ±ydƒ±."},
  {q:"Ahiliƒüin temel √∂ƒüretilerinden biri a≈üaƒüƒ±dakilerden hangisidir?", a:["Sadece kar maksimize etmek","Kuran √∂ƒüretmek","M√ºlkiyet biriktirmek","Helal kazan√ßc ve adalet"], correct:3, hint:"Doƒüru ticaret ve toplumsal d√ºzeni i√ßerir."},
  {q:"Ahiliƒüin kapƒ±sƒ± ve sofrasƒ± nasƒ±l olmalƒ±dƒ±r?", a:["Kapƒ±sƒ± kapalƒ±, sofrasƒ± a√ßƒ±k","Kapƒ±sƒ± a√ßƒ±k, sofrasƒ± kapalƒ±","Kapƒ±sƒ± a√ßƒ±k, sofrasƒ± a√ßƒ±k","Kapƒ±sƒ± kapalƒ±, sofrasƒ± kapalƒ±"], correct:2, hint:"Misafire her zaman a√ßƒ±k olmalƒ±."},
  {q:"Ahilik te≈ükilatƒ±nda ‚Äúeli a√ßƒ±k olmak‚Äù neyi ifade eder?", a:["Daima harcama yapmak","Birikim yapmamak","Sadece zenginlere yardƒ±m etmek","C√∂mertlik ve payla≈üƒ±m"], correct:3, hint:"C√∂mertlik temel bir deƒüerdir."},
  {q:"Ahiliƒüin temel prensiplerinden ‚Äúkul hakkƒ±na riayet etmek‚Äù ne anlama gelir?", a:["Yalnƒ±zca vergi toplamak","Ba≈ükasƒ±nƒ±n malƒ±na saygƒ± g√∂stermek","Kul hakkƒ±na girmek","ƒ∞≈üini gizli tutmak"], correct:1, hint:"Ba≈ükalarƒ±nƒ±n hakkƒ±nƒ± g√∂zetmek gerekir."},
  {q:"Ahilik prensiplerinden ‚Äútevazu‚Äù ne ≈üekilde tanƒ±mlanƒ±r?", a:["Kendini b√ºy√ºk g√∂rmek","Sabƒ±rlƒ± olmak","Herkesten √ºst√ºn olmak","AL√ßakg√∂n√ºll√ºl√ºk"], correct:3, hint:"Al√ßak g√∂n√ºll√ºl√ºk olumlu bir deƒüerdir."},
  {q:"Ustalƒ±k mertebesine ge√ßebilmek i√ßin hangi ≈üart genellikle gereklidir?", a:["Sadece s√∂zl√º s√∂zle≈üme","Ustalƒ±k sƒ±navƒ± + kalfalƒ±k d√∂nemi","Askerlik hizmeti","Ahi evranla g√∂r√º≈ümesi"], correct:1, hint:"Kalfalƒ±k d√∂nemi ba≈üarƒ±yla tamamlanmalƒ±dƒ±r."},
  {q:"Ahiliƒüin k√∂keninde hangi tasavvufi te≈ükilattan etkiler vardƒ±r?", a:["Nak≈üibendi","Mevlevi","F√ºt√ºvvet","Bekta≈üi"], correct:2, hint:"F√ºt√ºvvetnameler bu etkiden doƒümu≈ütur."},
  {q:"Ahilik sisteminde ‚Äúyemin t√∂reni‚Äù sƒ±rasƒ±nda ne t√ºr bir ahit edilir?", a:["Sadece ticari k√¢r s√∂z√º","Ahlaki kurallara uyma ve esnaf karde≈üliƒüi","Askeri disipline girme","Devlet hizmetine ge√ßme"], correct:1, hint:"Ahlaki ve toplumsal kurallara baƒülƒ±lƒ±k."},
  {q:"Ahiler i√ßin ‚Äús√∂z√ºnde durmak‚Äù ilkesinin anlamƒ± nedir?", a:["Hi√ß konu≈ümamak","yalan s√∂ylememek","Sadece g√º√ßl√ºyle konu≈ümak","Verdiƒüin s√∂z√º yerine getirmek"], correct:3, hint:"S√∂z vermek ve tutmak √∂nemlidir."},
  {q:"Ahiler i√ßin ‚Äúsabƒ±r ehliliƒüi‚Äù neyi temsil eder?", a:["Hi√ß √ßalƒ±≈ümamak","kibirli olmamak","Zorluklara g√∂ƒü√ºs germek ve azimle √ßalƒ±≈ümak","Hemen zengin olmak"], correct:2, hint:"√áalƒ±≈ümada azim ve diren√ß."},
  {q:"Ahiliƒüe g√∂re bir esnafƒ±n ahlaklƒ± olmasƒ± i√ßin ne yapmasƒ± gerekir?", a:["Sadece kar d√º≈ü√ºnmesi","M√º≈üteriye g√ºven vermesi, d√ºr√ºst ticaret yapmasƒ±","√úr√ºn gizlemesi","Rakiplerini yok saymasƒ±"], correct:1, hint:"D√ºr√ºstl√ºk temel ilkedir."},
  {q:"Ahilik sisteminde ‚Äúkom≈üularƒ±na iyilik yapmak‚Äù ilkesinin √∂nemi nedir?", a:["Sadece zengin kom≈üulara yardƒ±m etmek","Toplumsal dayanƒ±≈üma ve birlik ruhu olu≈üturmak","Kom≈üularƒ± g√∂zetlemek","Kom≈üulara vergiyi artƒ±rmak"], correct:1, hint:"Toplum i√ßinde yardƒ±mla≈üma esastƒ±r."},
  {q:"Ahilikte ‚Äúdedikoduyu terk etmek‚Äù ne anlama gelir?", a:["Ba≈ükalarƒ± hakkƒ±nda konu≈ümamak veya k√∂t√º konu≈ümamak","Sadece bildiklerini konu≈ümak","Gizli toplantƒ±lar yapmak","Ba≈ükalarƒ±nƒ±n i≈üine karƒ±≈ümak"], correct:0, hint:"Dedikodudan uzak durmak √∂nemlidir."},
  {q:"Ahiliƒüin ekonomik fonksiyonu neydi?", a:["Sadece fakirleri korumak","Esnaf √ßƒ±karlarƒ±nƒ± g√∂zetmek","Askeri finansman saƒülamak","Toplumsal d√ºzeni koruyarak esnaf birliƒüini saƒülamak"], correct:3, hint:"Ekonomi + toplumsal d√ºzen bir arada."},
  {q:"Ahiliƒüin kurucusu Ahi Evran‚Äôƒ±n mesleƒüi neydi?", a:["Dericilik (debbaƒülƒ±k)","Marangozluk","Dokumacƒ±lƒ±k","√áift√ßilik"], correct:0, hint:"Dericilikten gelen bir meslek grubudur."},
  {q:"Ahi Evran‚Äôƒ±n t√ºrbesi hangi ≈üehirde yer alƒ±r?", a:["ƒ∞stanbul","Kayseri","Kƒ±r≈üehir","Konya"], correct:2, hint:"Anadolu Sel√ßuklu etkisi olan bir ≈üehir."},
  {q:"Ahiler ‚Äú√º√ß ≈üeyi a√ßƒ±k tutmalƒ±‚Äù ilkesine g√∂re neleri a√ßƒ±k tutarlardƒ±?", a:["Kapƒ±, dil ve g√∂z√º","Eli, kapƒ±sƒ± ve sofrasƒ±","Beli, sofrasƒ± ve g√∂z√º","Eli, beli ve dili"], correct:1, hint:"Misafire her zaman a√ßƒ±k olmalƒ±dƒ±r."},
  {q:"Ahilik te≈ükilatƒ±nda ‚Äúilime ehemmiyet vermek‚Äù ilkesi ne demektir?", a:["Sadece para √∂nemli","Sadece i≈ü yapmak","Sadece dini bilgi √∂ƒürenmek","S√ºrekli √∂ƒürenmek ve bilgiye saygƒ± duymak"], correct:3, hint:"Bilgi ve √∂ƒürenmeye √∂nem verilir."},
  {q:"Ahilik nizamnamesine g√∂re hangi davranƒ±≈ü ho≈ü kar≈üƒ±lanmaz?", a:["Yardƒ±mla≈ümak","Tevazu","Sabƒ±rlƒ± olmak","Yalan s√∂ylemek"], correct:3, hint:"Yalan s√∂ylemek yasaktƒ±r."},
  {q:"Ahiler i√ßin ‚Äúg√ºler y√ºzl√º olma‚Äù neden √∂nemlidir?", a:["M√º≈üteri √ßekmek i√ßin","Sosyal ve ahlaki ili≈ükiyi g√º√ßlendirmek","Politik g√º√ß kazanmak i√ßin","Rakipleri korkutmak i√ßin"], correct:1, hint:"Toplumsal ili≈ükilerde olumlu etkisi vardƒ±r."},
  {q:"Ahiliƒüin sosyal fonksiyonu nedir?", a:["Sadece esnafƒ± denetlemek","Fakirlere yardƒ±m etmek ve toplumun g√ºvenliƒüini saƒülamak","Askeri yapƒ± kurmak","Saltanat kazanmak"], correct:1, hint:"Toplum yararƒ±na √ßalƒ±≈ümak esastƒ±r."},
  {q:"Ahilikte ‚Äúkul hakkƒ±‚Äù kavramƒ± nasƒ±l uygulanƒ±r?", a:["Sadece esnaflar arasƒ±nda","Herkesin birbirine hakkƒ± olmasƒ± ve korunmasƒ±","Zenginlerin haklarƒ± √∂nemli deƒüildir","Yalnƒ±zca devlete kar≈üƒ±"], correct:1, hint:"Hakkƒ±n herkes i√ßin ge√ßerli olmasƒ±."},
  {q:"Ahilik f√ºt√ºvvetnamelerinde yakla≈üƒ±k ka√ß kural vardƒ±r?", a:["103","260","740","855"], correct:2, hint:"Kaynaklarda 700‚Äô√º a≈üan kurallar ge√ßer."},
  {q:"Ahilikte ‚Äúsabƒ±rlƒ± olma‚Äù ilkesiyle baƒülantƒ±lƒ± deƒüer hangisidir?", a:["Hƒ±z","Acelecilik","Dayanƒ±klƒ±lƒ±k ve metanet","Korkaklƒ±k"], correct:2, hint:"Zorluklara g√∂ƒü√ºs germek."},
  {q:"Ahilik sisteminde ‚Äúihanet etmemek‚Äù ne anlama gelir?", a:["Aynƒ± meslekten olanlara ihanet etmemek","Ba≈ükasƒ±nƒ±n malƒ±na ya da s√∂z√ºne sadƒ±k kalmak","Sadece devlete ihanet etmemek","Rakip esnafa ihanet etmek"], correct:1, hint:"S√∂z ve mal g√ºvenliƒüi √∂nemlidir."},
  {q:"Ahilik deƒüerlerinden ‚Äútevazu‚Äù ve ‚Äúc√∂mertlik‚Äù arasƒ±nda nasƒ±l bir ili≈üki vardƒ±r?", a:["Tevazu, c√∂mertliƒüin tersi","Tevazu, c√∂mertlikle desteklenir ve dengelenir","Tevazu, c√∂mertliƒüi gereksiz kƒ±lar","Aralarƒ±nda hi√ßbir baƒülantƒ± yoktur"], correct:1, hint:"Al√ßakg√∂n√ºll√ºl√ºk c√∂mertliƒüi g√º√ßlendirir."},
  {q:"Ahi Evran‚Äôƒ±n √∂nderliƒüindeki Ahilik te≈ükilatƒ±nƒ±n en √∂nemli merkezi neresidir?", a:["ƒ∞stanbul","Konya","Kƒ±r≈üehir","Kayseri"], correct:2, hint:"Anadolu Sel√ßuklu ≈üehirlerinden biri."},
  {q:"Ahilik sisteminde ‚Äúbeline sahip olmak‚Äù ilkesi ne demektir?", a:["Fiziksel g√∂r√ºn√ºm√ºne dikkat etmek","Dil, el ve g√∂z√º kontrol etmek","Zengin olmak","Sadece i≈ü kurmak"], correct:1, hint:"Ahlaki ve ahlaki davranƒ±≈ü kontrol√º."},
  {q:"Ahilik te≈ükilatƒ±nda ‚Äúinsanlarƒ±n ayƒ±p ve kusurlarƒ±nƒ± √∂rtmek‚Äù deƒüeri neden √∂ne √ßƒ±kar?", a:["Ba≈ükalarƒ±nƒ±n hatalarƒ±nƒ± a√ßƒ±ƒüa √ßƒ±karmak","ƒ∞nsanlar arasƒ±ndaki g√ºveni ve karde≈üliƒüi korumak","Yalanƒ± te≈üvik etmek","Sadece zenginlerle dost olmak"], correct:1, hint:"Toplumda g√ºven ve karde≈üliƒüi g√º√ßlendirir."},
  {q:"Ahilik sisteminde ‚Äú√∂fkeye h√¢kim olma‚Äù ilkesi neden √∂nemlidir?", a:["Fiziksel g√º√ß i√ßin","Saƒülam karakter ve i≈ü ya≈üamƒ± d√ºzeni i√ßin","Kaybetmemek i√ßin","Sava≈ü stratejisi i√ßin"], correct:1, hint:"Karakter ve i≈ü disiplinini korur."},
  {q:"Ahilik felsefesinde ‚Äúherkesin mesleƒüi olmalƒ±‚Äù d√º≈ü√ºncesi neyi vurgular?", a:["Sadece soylularƒ±n meslek sahibi olmasƒ±","Toplumsal d√ºzen ve √ºretim","Mesleƒüi olmayanlarƒ±n tercih edilmemesi","Sadece ticaretin √∂nemli olmasƒ±"], correct:1, hint:"Toplumsal √ºretim ve d√ºzen √∂nemlidir."},
  {q:"Ahilik prensiplerinden ‚Äúdostluƒüa √∂nem verme‚Äù neyi ifade eder?", a:["Sadece esnaflarla dostluk kurmak","Toplumsal barƒ±≈üƒ± ve i≈ü birliƒüini g√º√ßlendirmek","Politik ittifak kurmak","Sadece zenginlerle i≈ü yapmak"], correct:1, hint:"Barƒ±≈ü ve i≈ü birliƒüi √∂ne √ßƒ±kar."},
  {q:"Ahilik sisteminde ‚Äúkul hakkƒ±na riayet etmek‚Äù ve ‚Äúemanete ihanet etmemek‚Äù deƒüerleri ni√ßin birbirine yakƒ±ndƒ±r?", a:["ƒ∞kisi aynƒ± anlama gelir","Biri ticari, diƒüeri sosyal haktƒ±r","Emanet, kul hakkƒ±nƒ±n bir formudur","Hi√ß alakalarƒ± yoktur"], correct:2, hint:"Emanet kul hakkƒ±nƒ±n bir par√ßasƒ±dƒ±r."},
  {q:"Ahilik te≈ükilatƒ±nda √ßƒ±raklƒ±k d√∂nemi sona erdiƒüinde hangi t√∂rensel uygulama yapƒ±lƒ±r?", a:["Askerliƒüe alƒ±nma","Ustalƒ±k pe≈ütemali baƒülama","Vergi indirimi","Lonca ba≈ükanlƒ±ƒüƒ± verilmesi"], correct:1, hint:"Ustalƒ±k d√∂nemi resmi t√∂renle ba≈ülar."},
  {q:"Ahilik sisteminde ‚Äúiyilik yapƒ±p kar≈üƒ±lƒ±k beklememek‚Äù ilkesi neyi vurgular?", a:["Her iyilikten maddi kazan√ß saƒülamak","Sadece g√º√ßl√ºye yardƒ±m etmek","ƒ∞yilikte samimiyet ve fedak√¢rlƒ±k","Sƒ±r saklamayƒ± te≈üvik etmek"], correct:2, hint:"Samimiyet esas alƒ±nƒ±r."},
  {q:"Ahilikte ‚Äúkul hakkƒ± g√∂zetmek‚Äù sadece maddi haklarƒ± mƒ± kapsar?", a:["Evet, yalnƒ±zca mal hakkƒ±","Hayƒ±r, manevi ve sosyal haklarƒ± da kapsar","Evet, ama yoksullara deƒüil","Hayƒ±r, sadece devlet ile ilgilidir"], correct:1, hint:"Maddi ve manevi haklar e≈üit √∂nemlidir."},
  {q:"Ahilik sisteminin Osmanlƒ± d√∂nemindeki i≈ülevi neydi?", a:["Sadece bir dini tarikat","Esnaf loncalarƒ±nƒ±n, ticari d√ºzenin ve ahlaki kaynaƒüƒ±n temeli","Asker alma birimi","Bir ekonomik s√∂m√ºr√º aracƒ±"], correct:1, hint:"Ekonomi ve ahlak birlikte y√ºr√ºt√ºl√ºrd√º."},
  {q:"Ahilik te≈ükilatƒ±nda ‚Äúg√∂rg√º kurallarƒ±‚Äù neden √∂nemlidir?", a:["Sadece misafirlik i√ßin","Toplumda saygƒ±nlƒ±k ve d√ºzen yaratmak","Yalnƒ±zca zenginler i√ßin","Yalnƒ±zca dini t√∂renlerde uygulanmak i√ßin"], correct:1, hint:"Toplumsal saygƒ±nlƒ±k i√ßin gerekli."},
  {q:"Ahilik sisteminde ‚Äúilah√Æ rƒ±zayƒ± g√∂zeterek √ßalƒ±≈ümak‚Äù ne anlama gelir?", a:["Sadece d√ºnyevi kazancƒ± d√º≈ü√ºnmek","√áalƒ±≈üƒ±rken manevi deƒüerleri g√∂z √∂n√ºnde bulundurmak","ƒ∞≈üle gizli ibadet yapmak","Sadece b√ºy√ºk i≈ülerle me≈ügul olmak"], correct:1, hint:"Manevi deƒüerleri g√∂zetmek √∂nemlidir."},
  {q:"Ahilik te≈ükilatƒ±nda ‚Äúg√∂nl√ºn√º a√ßƒ±k tutmak‚Äù ilkesi neyi temsil eder?", a:["Kapƒ± ve sofra a√ßƒ±k olmalƒ±","Yardƒ±mseverlik ve insanlara kar≈üƒ± a√ßƒ±klƒ±k","Herkese i≈ü vermek","Gizliliƒüi reddetmek"], correct:1, hint:"Yardƒ±mseverlik ve a√ßƒ±klƒ±k esas alƒ±nƒ±r."},
  {q:"Ahilik felsefesinde ‚Äúnefsi terbiye etmek‚Äù neden √∂nemlidir?", a:["Sadece ticarette avantaj saƒülamak","Hem toplumsal barƒ±≈üƒ± hem bireysel ahlakƒ± korumak","Zengin olmak i√ßin","Politika yapmak i√ßin"], correct:1, hint:"Toplum ve birey ahlakƒ±nƒ± korur."},
  {q:"Ahilik sisteminin g√ºn√ºm√ºzdeki modern bir yansƒ±masƒ± a≈üaƒüƒ±dakilerden hangisi olabilir?", a:["Tamamen askeri loncalar","Esnaf odalarƒ± ve meslek birlikleri","Gizli tarikatlar","Sadece ticari ≈üirketler"], correct:1, hint:"Mesleki birliklerin g√ºncel kar≈üƒ±lƒ±ƒüƒ±dƒ±r."},
  {q:"Ahilik te≈ükilatƒ±nƒ±n Anadolu‚Äôya sistemli ≈üekilde yerle≈ümesini saƒülayan ki≈üi kimdir?",a:["Hacƒ± Bekta≈ü-ƒ± Veli","Ahi Evran","≈ûeyh Edebali","Ahi ≈ûerafettin"],correct:1,hint:"Debbaƒülarƒ±n piri olarak bilinir."},
  {q:"Ahilikte √ßƒ±raklƒ±ktan kalfalƒ±ƒüa ge√ßi≈üte kullanƒ±lan t√∂renin adƒ± nedir?",a:["≈ûed Ku≈üanma","Nasip Alma","Hil'at Giyme","Yol Baƒülama"],correct:0,hint:"En sembolik t√∂ren."},
  {q:"Ahilikte i≈üyeri a√ßma hakkƒ± hangi a≈üamada kazanƒ±lƒ±r?",a:["Yamaklƒ±k","√áƒ±raklƒ±k","Kalfalƒ±k","Ustalƒ±k"],correct:3,hint:"Ah√Ælikte en yetkin a≈üama."},
  {q:"A≈üaƒüƒ±dakilerden hangisi Ahilikte esnafƒ±n uymasƒ± gereken temel kurallardan biri deƒüildir?",a:["M√º≈üteriyi aldatmamak","Malƒ± fahi≈ü fiyatla satmak","Kaliteyi korumak","Mesleki sƒ±rlarƒ± saklamak"],correct:1,hint:"Ahlaki olmayan davranƒ±≈ü."},
  {q:"Ahilik te≈ükilatƒ±nƒ±n k√∂kenleri hangi T√ºrk devletine kadar uzanƒ±r?",a:["G√∂kt√ºrkler","Sel√ßuklular","Uygurlar","Karahanlƒ±lar"],correct:3,hint:"ƒ∞lk M√ºsl√ºman T√ºrk devleti."},
  {q:"Ahi te≈ükilatƒ±nda usta olabilmek i√ßin zorunlu g√∂r√ºlen 'sehpa kurma' geleneƒüi hangi t√∂renin bir par√ßasƒ±dƒ±r?",a:["Yol atamasƒ±","≈ûed ku≈üanma","ƒ∞cazet alma","Piri kutsama"],correct:1,hint:"Ahiliƒüin en sembolik merasimlerinden biridir."},
  {q:"Ahiliƒüin ilkelerine g√∂re bir ahi'nin √ºretimde 'narh' uygulamasƒ±na uymamasƒ± hangi ilkeye aykƒ±rƒ±dƒ±r?",a:["Helal kazan√ß","Ehl-i hibre denetimi","E≈üit rekabet","Ortak emek deƒüeri"],correct:2,hint:"Fiyat adaleti ile ilgilidir."},
  {q:"Ahi zaviyelerinin aynƒ± zamanda birer eƒüitim mek√¢nƒ± olmasƒ±nƒ± saƒülayan unsur hangisidir?",a:["Yol f√ºt√ºvvetnamesi","A√ßƒ±k kapƒ± ilkesi","Meslek silsilesi","Toplumsal me≈üruiyet"],correct:0,hint:"Eƒüitim kurallarƒ±nƒ± belirleyen temel metindir."},
  {q:"Ahilerde 'hirfet' kavramƒ± neyi ifade eder?",a:["Meslek alanƒ±","Esnaf grubu","Ahilik yemini","Ustalƒ±k kurulu"],correct:1,hint:"Belirli bir i≈ü kolunu temsil eder."},
  {q:"Ahi Evran‚Äôƒ±n debbaƒülƒ±k mesleƒüini se√ßmesinin nedeni hangi ilkeyle daha √ßok ili≈ükilidir?",a:["Toplumsal ihtiya√ß","Askeri gereklilik","Sanatsal y√∂nelim","Siyasi hedef"],correct:0,hint:"G√ºnl√ºk ihtiya√ßlara y√∂nelik bir √ºretimdir."},
  {q:"Baciyan-ƒ± Rum te≈ükilatƒ±nƒ±n kurulu≈ü amacƒ± a≈üaƒüƒ±dakilerden hangisine en yakƒ±n kabul edilir?",a:["Kadƒ±nlarƒ±n askeri √∂rg√ºtlenmesi","Kadƒ±nlarƒ±n mesleki ve ahlaki eƒüitimi","Saraya personel yeti≈ütirme","G√∂√ßebe kadƒ±nlara barƒ±nma saƒülamasƒ±"],correct:1,hint:"Ahiliƒüin kadƒ±nlardaki kar≈üƒ±lƒ±ƒüƒ±dƒ±r."},
  {q:"Ahilikte √ßƒ±raklƒ±ktan kalfalƒ±ƒüa ge√ßi≈üte yapƒ±lan sƒ±navƒ±n temel √∂l√ß√ºt√º nedir?",a:["Ya≈ü sƒ±nƒ±rƒ±","Aile onayƒ±","Meslek becerisi ve ahlaki yeterlik","Vergi kaydƒ±"],correct:2,hint:"Mesleki + ahlaki iki y√∂nl√º bir deƒüerlendirme."},
  {q:"Ahi te≈ükilatƒ±nƒ±n g√∂√ßebe T√ºrkmen gruplarƒ±nƒ± yerle≈üik hayata uyumlu hale getirmesinde en etkili uygulamasƒ± hangisidir?",a:["Zaviye yerle≈üimleri","Vergi muafiyetleri","Askeri eƒüitim","Toprak daƒüƒ±tƒ±mƒ±"],correct:0,hint:"Misafirhane ve eƒüitim merkezi g√∂revi g√∂r√ºrd√º."},
  {q:"Ahilikte √ºretim kalitesinin korunmasƒ± i√ßin zorunlu olan 'ehl-i hibre' kimdir?",a:["Vergi memurlarƒ±","Mesleki bilirki≈üiler","Saray g√∂revlileri","Ta≈üra suba≈üƒ±larƒ±"],correct:1,hint:"Denetimden sorumlu uzmanlardƒ±r."},
  {q:"Ahi zaviyelerinin Anadolu‚Äôda ≈üehirle≈ümeye katkƒ±sƒ± hangi alan √ºzerinden olmu≈ütur?",a:["End√ºstriyel √ºretim","Ticaret yollarƒ± kontrol√º","Sosyal dayanƒ±≈üma ve √ºretim","Askeri g√ºvenlik"],correct:2,hint:"Hem sosyal hem ekonomik merkezdi."},
  {q:"Ahi Evran‚Äôƒ±n Horasan‚Äôdan getirdiƒüi d√º≈ü√ºnce sistemi hangi tasavvufi gelenekten beslenir?",a:["Mevlevilik","F√ºt√ºvvet ve Yesevilik","Bekta≈üilik","Kadirilik"],correct:1,hint:"F√ºt√ºvvetnamelerde a√ßƒ±k√ßa belirtilir."},
  {q:"Ahilikte m√º≈üteri kandƒ±rmak hangi davranƒ±≈ü kategorisinde deƒüerlendirilir?",a:["Hafif kusur","Mesleki ceza","Ahlaki ihlal","Ustalƒ±k iptali"],correct:2,hint:"Doƒürudan ahlak ilkesine aykƒ±rƒ±dƒ±r."},
  {q:"Ahilikte 'pabucu dama atmak' deyiminin k√∂keni hangi uygulamaya dayanƒ±r?",a:["Bor√ß √∂deyemeyen esnaf","Hile yapan ustanƒ±n cezalandƒ±rƒ±lmasƒ±","D√ºkkan kapatma kararƒ±","Lonca dƒ±≈üƒ±na √ßƒ±karma"],correct:1,hint:"Topluma ilan edilen bir cezaydƒ±."},
  {q:"Ahi birliklerinde √ºretim miktarƒ± hangi gerek√ßeyle sƒ±nƒ±rlandƒ±rƒ±lmƒ±≈ütƒ±r?",a:["Ham madde kƒ±tlƒ±ƒüƒ±","Rekabeti dengelemek ve kaliteyi korumak","Sultanƒ±n emirleri","Vergi d√ºzenlemeleri"],correct:1,hint:"Serbest rekabet deƒüil, kontroll√º rekabet vardƒ±r."},
  {q:"Osmanlƒ±‚Äôda Ahilerin devlet y√∂netiminde etkili olduƒüu d√∂nem hangi padi≈üahla ili≈ükilendirilir?",a:["II. Murad","I. Bayezid","Orhan Gazi","II. Mehmed"],correct:2,hint:"ƒ∞lk √∂rg√ºtl√º ≈üehir yapƒ±lanmalarƒ±nƒ±n d√∂nemidir."},
  {q:"Ahi Evran‚Äôƒ±n eserlerinde en √ßok vurguladƒ±ƒüƒ± ilke hangisidir?",a:["D√ºnyevi zenginlik","Devlet y√∂netimi","Ahlak ve meslek b√ºt√ºnl√ºƒü√º","Askeri disiplin"],correct:2,hint:"Meslek + ahlak bir arada."},
  {q:"Ahilikte 'orta sandƒ±ƒüƒ±' ne ama√ßla kullanƒ±lƒ±rdƒ±?",a:["Saray √∂demeleri","Vergi toplama","Esnaf yardƒ±mla≈üma ve kredi sandƒ±ƒüƒ±","Askeri harcamalar"],correct:2,hint:"Modern kar≈üƒ±lƒ±ƒüƒ± esnaf bankasƒ± gibidir."},
  {q:"Ahi d√ºkkanlarƒ±nƒ±n √∂n√ºnde bulunan 'terazi' simgesi neyi temsil ederdi?",a:["Zanaat g√ºc√º","Askeri denge","Adalet ve √∂l√ß√º","Siyasi birlik"],correct:2,hint:"Ticarette doƒüruluk ilkesine i≈üaret eder."},
  {q:"Ahi Evran‚Äôƒ±n Kayseri‚Äôdeki debbaƒülar √ºzerinde kurduƒüu te≈ükilatƒ±n temel amacƒ± neydi?",a:["Saray ekonomisini g√º√ßlendirmek","√úretimi tek elde toplamak","Meslek ahlakƒ±nƒ± yerle≈ütirmek","G√∂√ßleri durdurmak"],correct:2,hint:"Esnaf davranƒ±≈üƒ±nƒ± d√ºzenleyen ilk kurumsal adƒ±mdƒ±r."},
  {q:"Ahilerde 'yol erkanƒ±' hangi belgeyle d√ºzenlenirdi?",a:["Zaviye beratlarƒ±","F√ºt√ºvvetname","Menzil defteri","≈ûer‚Äôi sicil"],correct:1,hint:"√ñrg√ºt√ºn kutsal kitabƒ± gibidir."},
  {q:"Ahilikte cezalarƒ±n topluluk √∂n√ºnde verilmesinin amacƒ± hangisidir?",a:["ƒ∞bret ve toplumsal denetim","Vergi artƒ±rƒ±mƒ±","Siyasi g√º√ß g√∂sterisi","Askeri caydƒ±rƒ±cƒ±lƒ±k"],correct:0,hint:"Toplumsal kontrol mekanizmasƒ±dƒ±r."},
  {q:"Ahi te≈ükilatƒ±nda ustalarƒ±n yeni d√ºkk√¢n a√ßmasƒ±na izin veren kurul hangisidir?",a:["Ehl-i ≈üer","Ehl-i hibre","Yiƒüitba≈üƒ± meclisi","Keth√ºda divanƒ±"],correct:3,hint:"Loncanƒ±n idari y√∂netim makamƒ±dƒ±r."},
  {q:"Ahilikte ‚Äò≈üed ku≈üanma‚Äô t√∂renindeki ≈üed hangi anlamƒ± ta≈üƒ±r?",a:["Meslek vergisi","Ustalƒ±k yetkisi","Askerlik yemini","Ticari ruhsat"],correct:1,hint:"Simgesel bir ku≈üak takma t√∂renidir."},
  {q:"Ahi Evran‚Äôƒ±n e≈üi Fatma Bacƒ± hangi yapƒ±nƒ±n kurucusu kabul edilir?",a:["Alperen ocaƒüƒ±","Baciyan-ƒ± Rum","Ahiyan-ƒ± Rum","Gaziyan-ƒ± Rum"],correct:1,hint:"Kadƒ±n te≈ükilatƒ±dƒ±r."},
  {q:"Ahi zaviyelerinde misafirlerin √ºcretsiz aƒüƒ±rlanmasƒ± hangi ilkeye dayanƒ±r?",a:["Cihad anlayƒ±≈üƒ±","Misafirperverlik ve infak","Askeri hazƒ±rlƒ±k","Vergi muafiyeti"],correct:1,hint:"Payla≈üma k√ºlt√ºr√º esastƒ±r."},
  {q:"Ahiliƒüin Osmanlƒ± devlet te≈ükilatƒ±na en fazla etki ettiƒüi alan hangisidir?",a:["Askeri te≈ükilatlanma","Maliye √∂rg√ºt√º","Esnaf-lonca yapƒ±lanmasƒ±","Saray protokol√º"],correct:2,hint:"Lonca sistemi birebir etkilenmi≈ütir."},
  {q:"Ahi birliklerinde fiyatlarƒ±n standartla≈ütƒ±rƒ±lmasƒ±nƒ± saƒülayan uygulama hangisidir?",a:["ƒ∞a≈üe modellemesi","Narh sistemi","Menzil d√ºzeni","√áer√ßi kontrol√º"],correct:1,hint:"Fiyat tavanƒ± uygulamasƒ±dƒ±r."},
  {q:"Ahilikte ‚Äòeli a√ßƒ±k, kapƒ±sƒ± a√ßƒ±k, sofrasƒ± a√ßƒ±k‚Äô ilkesi hangi boyutu vurgular?",a:["Ticari rekabet","Toplumsal dayanƒ±≈üma","Askeri birliktelik","Zanaatk√¢r kimliƒüi"],correct:1,hint:"Payla≈üƒ±mƒ±n toplum i√ßin √∂nemi."},
  {q:"Ahi Evran‚Äôƒ±n Moƒüol istilasƒ±na kar≈üƒ± ≈üehirleri √∂rg√ºtlemesi hangi i≈ülevi g√∂sterir?",a:["Askeri komutanlƒ±k","Siyasi otorite","Sivil direni≈ü ve esnaf √∂rg√ºtlenmesi","Vergi toplama"],correct:2,hint:"≈ûehirlerin savunmasƒ±nda esnafƒ±n rol√º b√ºy√ºkt√º."},
  {q:"Ahiliƒüin Batƒ±‚Äôdaki lonca sisteminden en b√ºy√ºk farkƒ± nedir?",a:["√úretim kapasitesi","Ahlak ve tasavvuf temelli olmasƒ±","Sadece erkeklere a√ßƒ±k olmasƒ±","Devlet g√ºd√ºm√ºnde olmasƒ±"],correct:1, hint:"F√ºt√ºvvet temeline dayanƒ±r."},
  {q:"Ahi te≈ükilatƒ±nda ‚Äòyiƒüitba≈üƒ±‚Äô hangi g√∂revi y√ºr√ºt√ºrd√º?",a:["Vergi toplamak","Askeri komutanlƒ±k","Esnafƒ±n disiplin ve denetimi","Saray kararlarƒ±nƒ± iletmek"],correct:2,hint:"Kalfalar ve ustalar arasƒ±nda d√ºzeni saƒülar."},
  {q:"Ahilikte √ßƒ±rak se√ßiminde aile ge√ßmi≈üinin deƒüil karakterin esas alƒ±nmasƒ± hangi prensiple ili≈ükilidir?",a:["Toplumsal stat√º","Erdem ve ahlak √ºst√ºnl√ºƒü√º","Devlet baƒülƒ±lƒ±ƒüƒ±","Askeri yeterlilik"],correct:1,hint:"Ahi olmak ayrƒ±calƒ±k deƒüil, ahlak i≈üidir."},
  {q:"Osmanlƒ±‚Äôda loncalarƒ±n merkezi otoriteye baƒülanmasƒ± hangi padi≈üah d√∂neminde hƒ±z kazanmƒ±≈ütƒ±r?",a:["Kanuni Sultan S√ºleyman","I. Mahmud","II. Bayezid","III. Selim"],correct:0,hint:"Kanunname-i ƒ∞htisab‚Äôƒ±n etkisi b√ºy√ºkt√ºr."},
  {q:"Ahilikte kusurlu mal √ºreten esnafa verilen en hafif ceza hangisidir?",a:["D√ºkkan kapatma","Topluluk √∂n√ºnde uyarƒ±","Pabucu dama atma","Meslekten √ßƒ±karma"],correct:1,hint:"ƒ∞lk a≈üamada verilen sosyal uyarƒ±dƒ±r."},
  {q:"Ahi √∂rg√ºtlerinin Anadolu‚Äôda ticaret yollarƒ±nƒ±n g√ºvenliƒüini artƒ±rmasƒ± hangi mekanizma ile saƒülanmƒ±≈ütƒ±r?",a:["Saray askerleri","Esnaf n√∂bet sistemi","Vergi indirimleri","Kervansaray m√ºfetti≈üleri"],correct:1,hint:"Zanaatk√¢rlarƒ±n ortak n√∂bet d√ºzeni vardƒ±."},
  {q:"Ahiliƒüin toplumsal d√ºzen √ºzerindeki en b√ºy√ºk etkisi a≈üaƒüƒ±dakilerden hangisidir?",a:["Sava≈ü g√ºc√ºn√º artƒ±rmak","Toplumsal ahlakƒ± ve √ºretim d√ºzenini yapƒ±landƒ±rmak","Devlet harcamalarƒ±nƒ± azaltmak","Saray k√ºlt√ºr√ºn√º yaymak"],correct:1,hint:"Hem ekonomi hem ahlak √ºzerinde belirleyici oldu."}

];
questions.forEach(q => {
  if(q.a.length === 2) {
    q.type = "truefalse"; // 2 ≈üƒ±klƒ± ise Doƒüru/Yanlƒ±≈ü
  } else {
    q.type = "multiple";  // 3 veya 4 ≈üƒ±klƒ± ise √áoktan Se√ßmeli
  }
});

let usedQuestions = [];

// H√ºcre Deƒüerleri ------------------------------------------------
const badValues=["Zul√ºm","Hile","Yalan","Kibir","ƒ∞hanet","R√º≈üvet","Kƒ±skan√ßlƒ±k","Bozgunculuk","A√ßg√∂zl√ºl√ºk","Dedikodu"];
const goodValues=["Helal Kazan√ß","Doƒüruluk","Yardƒ±mla≈üma","D√ºr√ºstl√ºk","Sabƒ±r","Adalet","Tevazu","C√∂mertlik","Vefa","Misafirperverlik"];
const neutralValues=["√áalƒ±≈ükanlƒ±k","Tecr√ºbe","Sorumluluk","Dikkat","Saygƒ±","Sabƒ±r","Ustalƒ±k","√ñzen","G√ºven","ƒ∞yi Niyet"];

let cellValues = new Array(TOTAL).fill("");
let foxPositions=[], horsePositions=[];

// Rastgele tilki & at yerleri
while(foxPositions.length<10){let p=Math.floor(Math.random()*TOTAL);if(!foxPositions.includes(p)&&p!==0&&p!==TOTAL-1)foxPositions.push(p);}
while(horsePositions.length<5){let p=Math.floor(Math.random()*TOTAL);if(!horsePositions.includes(p)&&!foxPositions.includes(p)&&p!==0&&p!==TOTAL-1)horsePositions.push(p);}

for(let i=0;i<TOTAL;i++){
  if(foxPositions.includes(i)){cellValues[i]={type:"fox",value:badValues[Math.floor(Math.random()*badValues.length)]};}
  else if(horsePositions.includes(i)){cellValues[i]={type:"horse",value:goodValues[Math.floor(Math.random()*goodValues.length)]};}
  else{cellValues[i]={type:"value",value:neutralValues[Math.floor(Math.random()*neutralValues.length)]};}
}

// DOM ------------------------------------------------------------
const board=document.getElementById("board");
const pieceEl=document.getElementById("piece");
const valueDisplay=document.getElementById("valueDisplay");
const rollBtn=document.getElementById("rollBtn");
const diceBox=document.getElementById("dice");
const akceEl=document.getElementById("akce");
const moveCountEl=document.getElementById("moveCount");
const timerBox=document.getElementById("timer");

function wait(ms){return new Promise(res=>setTimeout(res,ms));}

function showValueTemporary(text){
  valueDisplay.innerHTML=text;
  valueDisplay.classList.add("show");
  setTimeout(()=>valueDisplay.classList.remove("show"),3000);
}

function showCellValuePopup(index){
  valueDisplay.innerHTML=`üîé <strong>${cellValues[index].value}</strong>`;
  valueDisplay.classList.add("show");
  setTimeout(()=>valueDisplay.classList.remove("show"),3000);
}

function showExplosion(good){
  const rect=pieceEl.getBoundingClientRect();
  const exp=document.createElement("div");
  exp.className="explosion";
  exp.style.left=(rect.left+rect.width/2)+"px";
  exp.style.top=(rect.top+rect.height/2)+"px";
  exp.style.background=good?"radial-gradient(circle,#0f0,#0a0)":"radial-gradient(circle,#f00,#a00)";
  document.body.appendChild(exp);
  setTimeout(()=>exp.remove(),600);
}

// --- OYUN Bƒ∞TTƒ∞ POPUP FONKSƒ∞YONU (SES EKLENDƒ∞) ---------------------
function showGameOverPopup(titleText, subText){
  // eƒüer zaten a√ßƒ±ksa tekrar a√ßma
  if(document.getElementById('gameOverOverlay')) return;

  // --- üîä BURADA SES √áALIYOR ---
  if (titleText.includes("Kazandƒ±n") || titleText.includes("Tebrik")) {
      playWinSound();   // Zafer sesi
  } else {
      playLoseSound();  // Kaybetme / motive sesi
  }

  // oyun giri≈ülerini kapat
  gameOver = true;
  canRoll = false;

  const overlay = document.createElement('div');
  overlay.id = 'gameOverOverlay';
  overlay.className = 'gameOverOverlay';

  const box = document.createElement('div');
  box.className = 'gameOverBox';
  box.innerHTML = `
    <h2>${titleText}</h2>
    <p>${subText || ''}</p>
    <div class="btns">
      <button class="btn-restart" id="gom-restart">Yeniden Ba≈ülat</button>
      <button class="btn-menu" id="gom-menu">Ana Men√ºye D√∂n</button>
    </div>
  `;
  overlay.appendChild(box);
  document.body.appendChild(overlay);

  // --- Butonlar ---
  document.getElementById('gom-restart').onclick = () => {
    // Ta≈üƒ± ba≈üa al
    piecePos = 0;
    moveCount = 0;
    stepCounter = 0;
    totalSeconds = 150;
    gameOver = false;
    canRoll = true;

    // Tahtayƒ± tekrar √ßiz
    buildBoard();

    // Move/ak√ße bilgilerini sƒ±fƒ±rla
    moveCountEl.textContent = moveCount;
    akceEl.textContent = playerAkce;

    // Timer'ƒ± g√ºncelle
    updateTimer();

    // Popup'ƒ± kaldƒ±r
    document.getElementById('gameOverOverlay').remove();
  };

  document.getElementById('gom-menu').onclick = () => {
    window.location.href = "anamenu.html";
  };

  document.getElementById('gom-menu').onclick = ()=> {
    // anamenu.html'e y√∂nlendir
    window.location.href = 'anamenu.html';
  };
}

// ----------------------------------------------------------------

// Soru Penceresi ------------------------------------------------
async function askQuestionPopup(){
  return new Promise(res => {

    canRoll=false;

    if(questions.length===0){
      questions=usedQuestions; usedQuestions=[];
    }
    const idx=Math.floor(Math.random()*questions.length);
    const q=questions[idx];

    const pop=document.createElement("div");
    pop.className="questionPopup";
    pop.innerHTML=`
      <p style='font-weight:700;'>${q.q}</p>
      <div id='hintBox' style='margin-bottom:8px;cursor:pointer;color:#00a;'>ƒ∞pucu (10 ak√ße)</div>
      ${q.a.map((t,i)=>`<button data-i='${i}'>${t}</button>`).join("")}
    `;

    document.body.appendChild(pop);

    pop.querySelector("#hintBox").onclick=()=>{
      if(playerAkce>=10){
        playerAkce-=10; akceEl.textContent=playerAkce;
        pop.querySelector("#hintBox").innerHTML="ƒ∞pucu: "+q.hint;
      }
    };

    pop.querySelectorAll("button[data-i]").forEach(btn=>{
      btn.onclick=()=>{
        const ok = Number(btn.dataset.i)===q.correct;
        pop.remove();

        usedQuestions.push(q);
        questions.splice(idx,1);

        canRoll=true;

        res(ok);
      };
    });
  });
}

// Tahta kurulumu ------------------------------------------------
function buildBoard(){
  board.innerHTML=""; positions=[]; cells=[];
  const bw=board.clientWidth, bh=board.clientHeight;
  const cellW=bw/COLS, cellH=bh/ROWS;
  for(let r=ROWS-1;r>=0;r--){
    if((ROWS-1-r)%2===0){
      for(let c=0;c<COLS;c++) positions.push({x:c*cellW,y:r*cellH,w:cellW,h:cellH});
    } else {
      for(let c=COLS-1;c>=0;c--) positions.push({x:c*cellW,y:r*cellH,w:cellW,h:cellH});
    }
  }

  for(let i=0;i<positions.length;i++){
    const p=positions[i];
    const div=document.createElement("div");
    div.className="cell";
    div.style.width=p.w+"px";
    div.style.height=p.h+"px";
    div.style.left=p.x+"px";
    div.style.top=p.y+"px";
    board.appendChild(div);
    cells.push(div);

    if(cellValues[i].type==="fox"||cellValues[i].type==="horse"){
      const icon=document.createElement("div");
      icon.className="cellIcon";
      icon.textContent=cellValues[i].type==="fox"?"ü¶ä":"üêé";
      icon.style.fontSize=Math.min(p.w,p.h)*0.5+"px";
      div.appendChild(icon);
    }
  }
  placePiece();
}

function placePiece(){
  if(!cells.length) return;
  const cell = cells[piecePos];
  if(cell) cell.appendChild(pieceEl);
}

// Timer -------------------------------------------------------
function updateTimer(){
  if(gameOver) return;
  let m=Math.floor(totalSeconds/60), s=totalSeconds%60;
  timerBox.textContent=`${m<10?"0":""}${m}:${s<10?"0":""}${s}`;
  if(totalSeconds<=0){
    gameOver=true;
    canRoll=false;
    // eskiden showValueTemporary kullanƒ±lƒ±yordu; ≈üimdi kalƒ±cƒ± GameOver popup a√ßƒ±lƒ±yor
    showGameOverPopup('‚ùå S√ºre doldu!','S√ºreniz bitti.');
  }
  totalSeconds--;
}
setInterval(updateTimer,1000);

// Hareket -----------------------------------------------------
let stepCounter=0;

async function movePiece(steps){
  if(gameOver) return;

  const start = piecePos;

  for(let i=0;i<steps;i++){
    piecePos++;

   if(piecePos >= TOTAL){
    piecePos = TOTAL - 1;
    gameOver = true;

    // skor/XP davranƒ±≈üƒ± korunuyor
    addXP(10);

    // kalƒ±cƒ± popup g√∂ster
    showGameOverPopup('üèÜ OYUNU KAZANDIN!', '+10 XP');

    // Sandƒ±k a√ßma fonksiyonunu √ßaƒüƒ±rƒ±yoruz
    showChest();
// Sandƒ±ƒüƒ± g√∂r√ºn√ºr yap
document.getElementById("chest").style.display = "block";

    return;
}


    stepCounter++;
    placePiece();
    await wait(160);

    if(stepCounter % 3 === 0){
      const correct = await askQuestionPopup();
      showExplosion(correct);
      if(!correct){
        totalSeconds = Math.max(0, totalSeconds - 10);

        while(piecePos > start){
          piecePos--;
          placePiece();
          await wait(120);
        }
        return;
      }
    }
  }

  moveCount += steps;
  moveCountEl.textContent = moveCount;
gorev3_kontrol(moveCount);

  const info = cellValues[piecePos];

  if(info.type==="fox"){
    showExplosion(false);
    showValueTemporary("ü¶ä Tilki! 3 geri!");
    piecePos=Math.max(0,piecePos-3);
    placePiece();
  }
  else if(info.type==="horse"){
    showExplosion(true);
    showValueTemporary("üê¥ At! 3 ileri!");
    piecePos=Math.min(cells.length-1,piecePos+3);
    placePiece();
  }

  showCellValuePopup(piecePos);

  if(piecePos===cells.length-1){
    gameOver=true;

    addXP(10);

    // kalƒ±cƒ± popup g√∂ster
    showGameOverPopup('üèÜ OYUNU KAZANDIN!','+10 XP');
   // Sandƒ±k a√ßma fonksiyonunu √ßaƒüƒ±rƒ±yoruz
    showChest();   
  }
}

// Zar atma ---------------------------------------------------
rollBtn.onclick = async function(){
  if(!canRoll) return;
  if(document.querySelector(".questionPopup")) return;

  canRoll = false;

  let val = Math.floor(Math.random()*6)+1; // normal zar


  diceBox.textContent = val;
  diceBox.classList.add("rollAnim");
  setTimeout(()=>diceBox.classList.remove("rollAnim"), 800);

  await movePiece(val);

  setTimeout(()=>{
    if(!document.querySelector(".questionPopup")) canRoll = true;
  }, 4000);

  moveCount++; // hamle sayƒ±sƒ±nƒ± arttƒ±r
};


// Ba≈ülangƒ±√ß ---------------------------------------------------
document.getElementById("infoOkBtn").onclick=()=>{
  document.getElementById("infoPopup").remove();
  canRoll=true;
};

buildBoard();
updateXPBar();   
                 
// SAYFA Y√úKLENDƒ∞ƒûƒ∞NDE XP'Yƒ∞ AL -------------------
if(localStorage.getItem("totalXP")){
  totalXP = parseInt(localStorage.getItem("totalXP"));
} else {
  totalXP = 0;
}
level = 0; // ba≈ülangƒ±√ß her zaman Yamaklƒ±k
updateXPBar();

// XP EKLENDƒ∞ƒûƒ∞NDE KAYDET -----------------------
function addXP(amount){
  totalXP += amount;
  localStorage.setItem("totalXP", totalXP); // buraya ekledik

  let newLevel = Math.floor(totalXP / XP_PER_LEVEL);
  if(newLevel > level && newLevel < levelNames.length){
    level = newLevel;
  }
  updateXPBar();
}

// ƒ∞stersen oyuncu sƒ±fƒ±rlamak isterse XP'yi de temizleyebilirsin
function resetXP(){
  totalXP = 0;
  level = 0;
  localStorage.removeItem("totalXP");
  updateXPBar();
}
 const spPlusTwo = document.getElementById("spPlusTwo");
const spPlusTime = document.getElementById("spPlusTime");
const spAutoAnswer = document.getElementById("spAutoAnswer");
const spMinFour = document.getElementById("spMinFour");

// +2 ƒ∞lerleme
spPlusTwo.onclick = async () => {
  if(playerAkce >= 10 && canRoll){
    playerAkce -= 10; 
    akceEl.textContent = playerAkce;
    await movePiece(2);
  }
};

// +10 Saniye
spPlusTime.onclick = () => {
  if(playerAkce >= 10){
    playerAkce -= 10;
    akceEl.textContent = playerAkce;
    totalSeconds += 10;
    updateTimer();
  }
};

// Oto Cevap (soru √ßƒ±karsa doƒüru yanƒ±t verir)
spAutoAnswer.onclick = () => {
  if(playerAkce >= 10){
    playerAkce -= 10;
    akceEl.textContent = playerAkce;
    if(document.querySelector(".questionPopup")){
      document.querySelector(".questionPopup button[data-i='"+questions[0].correct+"']").click();
    }
  }
};

// Min 4 Zar (zar sonucu 4'ten azsa 4 yap)
spMinFour.onclick = () => {
  if(playerAkce >= 10){
    playerAkce -= 10;
    akceEl.textContent = playerAkce;
    let val = Math.floor(Math.random()*6)+1;
    if(val < 4) val = 4;
    diceBox.textContent = val;
    movePiece(val);
  }
};

function showChest() {
    const chest = document.getElementById("chest");
    chest.style.display = "block"; // Sandƒ±ƒüƒ± g√∂r√ºn√ºr yap
}
function showChest() {
    const chestReward = Math.floor(Math.random() * 16); // 0-15 arasƒ± ak√ße
    playerAkce += chestReward; // mevcut ak√ßeye ekle
    alert("Sandƒ±ƒüƒ± a√ßtƒ±n! üéâ Kazandƒ±ƒüƒ±n Ak√ße: " + chestReward);
}
// Sandƒ±k a√ßma fonksiyonu
function openChest() {
    const chest = document.getElementById("chest");
    const rewardDisplay = document.getElementById("reward");

    chest.classList.add("open");

    // 0-15 arasƒ± ak√ße √ºret
    let reward = Math.floor(Math.random() * 16);

    // Oyuncunun ak√ßesine ekle
    playerAkce += reward;

    // Par√ßacƒ±k efektleri
    for (let i = 0; i < 20; i++) {
        let p = document.createElement("div");
        p.classList.add("particle");
        p.style.left = (110 + (Math.random() * 40 - 20)) + "px";
        p.style.top = "70px";
        p.style.animationDelay = (Math.random() * 0.3) + "s";
        document.body.appendChild(p);

        setTimeout(() => p.remove(), 1200);
    }

    // √ñd√ºl√º g√∂ster
    rewardDisplay.innerHTML = "üéâ Kazandƒ±ƒüƒ±n Ak√ße: <b>" + reward + "</b>";

    // Sandƒ±k 1.2 saniye sonra kapanƒ±r
    setTimeout(() => {
        chest.classList.remove("open");
        rewardDisplay.innerHTML = "";
        // Oyun bitti men√º popup'ƒ± g√∂ster
        showGameOverPopup('üèÜ OYUNU KAZANDIN!','+10 XP');
    }, 1200);
}
 // Popup a√ßma/kapatma
const miniGameBtn = document.getElementById("miniGameBtn");
const miniGamePopup = document.getElementById("miniGamePopup");
const closePopup = document.getElementById("closePopup");

miniGameBtn.onclick = () => miniGamePopup.style.display = "block";
closePopup.onclick = () => miniGamePopup.style.display = "none";
window.onclick = (e) => { if(e.target == miniGamePopup) miniGamePopup.style.display = "none"; }

// Kartlara tƒ±klanƒ±nca sayfalarƒ± a√ßma
const cards = document.querySelectorAll(".card");
cards.forEach(card => {
  card.onclick = () => {
    const link = card.getAttribute("data-link");
    window.location.href = link; // Aynƒ± klas√∂rdeki HTML sayfasƒ±na y√∂nlendirir
  }
});

// --- KALICI PAUSE TU≈ûU ---
function createPauseButton() {
    if (document.getElementById("pauseBtn")) return;

    const btn = document.createElement("button");
    btn.id = "pauseBtn";
    btn.innerText = "II";

    btn.style.position = "fixed";
    btn.style.top = "20px";
    btn.style.right = "20px";
    btn.style.padding = "12px 18px";
    btn.style.background = "rgba(0,0,0,0.8)";
    btn.style.color = "white";
    btn.style.border = "none";
    btn.style.borderRadius = "10px";
    btn.style.fontSize = "24px";
    btn.style.zIndex = "999999999";
    btn.style.cursor = "pointer";
    btn.style.backdropFilter = "blur(6px)";
    btn.style.boxShadow = "0 0 15px rgba(0,0,0,0.6)";

    document.body.appendChild(btn);

    btn.onclick = () => {
        document.getElementById("pauseScreen").style.display = "flex";
    };
}

// --- PROFESYONEL PAUSE EKRANI ---
function createPauseScreen() {
    if (document.getElementById("pauseScreen")) return;

    const div = document.createElement("div");
    div.id = "pauseScreen";

    div.style.position = "fixed";
    div.style.top = "0";
    div.style.left = "0";
    div.style.width = "100%";
    div.style.height = "100%";
    div.style.background = "rgba(0,0,0,0.65)";
    div.style.display = "none";
    div.style.justifyContent = "center";
    div.style.alignItems = "center";
    div.style.zIndex = "999999998";
    div.style.backdropFilter = "blur(8px)";

    div.innerHTML = `
        <div style="
            background: rgba(255,255,255,0.12);
            padding: 35px;
            border-radius: 20px;
            text-align: center;
            color: white;
            min-width: 260px;
            border: 1px solid rgba(255,255,255,0.25);
            backdrop-filter: blur(12px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.4);
        ">
            <h2 style="margin-top:0;margin-bottom:25px;font-size:26px;">Oyun Duraklatƒ±ldƒ±</h2>

            <button id="resumeBtn" class="pauseBtn">Devam Et</button><br>
            <button id="restartBtn" class="pauseBtn">Yeniden Ba≈ülat</button><br>
            <button id="menuBtn" class="pauseBtn">Ana Men√º</button><br>
            <button id="settingsBtn" class="pauseBtn">Ayarlar</button><br>
            <button id="purchasedBtn" class="pauseBtn">Satƒ±n Aldƒ±klarƒ±m</button>
        </div>
    `;

    document.body.appendChild(div);

    // Butonlar i√ßin ortak CSS
    const style = document.createElement("style");
    style.innerHTML = `
        .pauseBtn {
            width: 100%;
            padding: 12px;
            margin: 8px 0;
            background: rgba(0,0,0,0.55);
            border: none;
            border-radius: 12px;
            font-size: 17px;
            color: white;
            cursor: pointer;
            backdrop-filter: blur(4px);
            transition: 0.2s;
            box-shadow: 0 0 10px rgba(0,0,0,0.4);
        }
        .pauseBtn:hover {
            background: rgba(255,255,255,0.25);
        }
    `;
    document.head.appendChild(style);

    // --- BUTON FONKSƒ∞YONLARI ---
    document.getElementById("resumeBtn").onclick = () => {
        div.style.display = "none";
    };

    document.getElementById("restartBtn").onclick = () => {
        location.reload();
    };

    document.getElementById("menuBtn").onclick = () => {
        window.location.href = "anamenu.html";
    };

    document.getElementById("settingsBtn").onclick = () => {
        createSettingsPanel();
        document.getElementById("settingsPanel").style.display = "block";
    };

    document.getElementById("purchasedBtn").onclick = () => {
        createPurchasedPanel();
        document.getElementById("fullPurchasedPanel").style.display = "flex";
    };
}

// --- AYARLAR PANELƒ∞ ---
function createSettingsPanel() {
    if (document.getElementById("settingsPanel")) return;

    const panel = document.createElement("div");
    panel.id = "settingsPanel";

    panel.style.position = "fixed";
    panel.style.top = "50%";
    panel.style.left = "50%";
    panel.style.transform = "translate(-50%, -50%)";
    panel.style.padding = "30px";
    panel.style.borderRadius = "18px";
    panel.style.textAlign = "center";
    panel.style.minWidth = "280px";
    panel.style.color = "white";
    panel.style.zIndex = "999999999";
    panel.style.display = "none";

    panel.style.background = "rgba(255,255,255,0.12)";
    panel.style.backdropFilter = "blur(10px)";
    panel.style.boxShadow = "0 8px 25px rgba(0,0,0,0.4)";
    panel.style.border = "1px solid rgba(255,255,255,0.25)";

    panel.innerHTML = `
        <h2 style="margin-top:0;margin-bottom:20px;font-size:24px;">Ayarlar</h2>
        <div style="margin-bottom:20px; font-size:18px;">
            Ses:
            <input id="volumeSlider" type="range" min="0" max="1" step="0.05" value="1" style="width:100%;">
        </div>
        <button id="closeSettings" style="
            width:100%;
            padding:12px;
            background:#e74c3c;
            border:none;
            border-radius:12px;
            color:white;
            font-size:16px;
            cursor:pointer;
        ">Kapat</button>
    `;

    document.body.appendChild(panel);

    document.getElementById("closeSettings").onclick = () => {
        panel.style.display = "none";
    };

    const slider = document.getElementById("volumeSlider");
    slider.oninput = () => {
        if (typeof music !== "undefined") {
            music.volume = slider.value;
        }
    };
}

// --- TAM EKRAN PROFESYONEL SATIN ALDIKLARIM PANELƒ∞ ---
function createPurchasedPanel() {
    if (document.getElementById("fullPurchasedPanel")) return;

    const panel = document.createElement("div");
    panel.id = "fullPurchasedPanel";

    panel.style.position = "fixed";
    panel.style.top = "0";
    panel.style.left = "0";
    panel.style.width = "100%";
    panel.style.height = "100%";
    panel.style.background = "rgba(0,0,0,0.85)";
    panel.style.display = "none";
    panel.style.flexDirection = "column";
    panel.style.alignItems = "center";
    panel.style.justifyContent = "flex-start";
    panel.style.padding = "40px";
    panel.style.zIndex = "999999999";
    panel.style.backdropFilter = "blur(10px)";
    panel.style.overflowY = "auto";

    panel.innerHTML = `
        <h1 style="color:#f8e7c3; font-size:36px; margin-bottom:30px; text-shadow:0 0 15px rgba(0,0,0,0.7);">Satƒ±n Aldƒ±klarƒ±m</h1>

        <div id="fullPurchaseTabs" style="display:flex; gap:20px; margin-bottom:25px;">
            <button class="fullTab active" data-tab="tas">Ta≈ülar</button>
            <button class="fullTab" data-tab="tahta">Tahtalar</button>
            <button class="fullTab" data-tab="muzik">M√ºzikler</button>
        </div>

        <div id="fullPurchaseContent" style="display:grid; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); gap:25px; width:100%;"></div>

        <button id="closeFullPurchased" style="
            margin-top:35px; padding:15px 30px;
            background:#e74c3c; color:white;
            border:none; border-radius:15px; cursor:pointer;
            font-size:18px;
        ">Kapat</button>
    `;

    document.body.appendChild(panel);

    const style = document.createElement("style");
    style.innerHTML = `
        .fullTab {
            padding:10px 25px;
            border-radius:12px;
            background:#a67c2e;
            color:white;
            font-weight:bold;
            cursor:pointer;
            font-size:18px;
            border:none;
            box-shadow:0 4px 12px rgba(0,0,0,0.5);
            transition:0.2s;
        }
        .fullTab.active { background:#555; color:#f8e7c3; }
        .fullItem {
            background:rgba(75,50,32,0.85);
            border:2px solid #a67c2e;
            border-radius:15px;
            padding:15px;
            text-align:center;
            color:#f8e7c3;
            display:flex;
            flex-direction:column;
            align-items:center;
            transition:0.2s;
        }
        .fullItem img {
            width:100%;
            height:150px;
            object-fit:contain;
            border-radius:12px;
            margin-bottom:10px;
        }
        .fullSelect {
            margin-top:10px;
            padding:8px 12px;
            border:none;
            border-radius:10px;
            background:#a67c2e;
            color:white;
            cursor:pointer;
            font-weight:bold;
            transition:0.2s;
        }
        .fullSelect.selected {
            background:#555;
            transform:scale(1.05);
            pointer-events:none;
        }
        .fullItem:hover { transform:scale(1.02); box-shadow:0 0 15px rgba(0,0,0,0.6); }
    `;
    document.head.appendChild(style);

    document.getElementById("closeFullPurchased").onclick = () => panel.style.display = "none";

    // Tab switch
    document.querySelectorAll(".fullTab").forEach(tab=>{
        tab.onclick = ()=>{
            document.querySelectorAll(".fullTab").forEach(t=>t.classList.remove("active"));
            tab.classList.add("active");
            loadFullPurchased(tab.dataset.tab);
        };
    });

    // Load function
    function loadFullPurchased(category){
        const content = document.getElementById("fullPurchaseContent");
        const activeUser = localStorage.getItem("activeUser");
        let inventory = JSON.parse(localStorage.getItem("inventory_"+activeUser)) || [];
        const items = inventory.filter(i=>i.category===category);

        content.innerHTML = items.length ? items.map(i=>`
            <div class="fullItem">
                <img src="${i.img||'https://via.placeholder.com/150'}" alt="${i.name}">
                <div style="font-size:18px; font-weight:bold;">${i.name}</div>
                <div style="margin:5px 0;">${i.price} ak√ße</div>
                <button class="fullSelect ${i.selected?'selected':''}" data-name="${i.name}" data-cat="${i.category}">
                    ${i.selected?'Se√ßildi':'Se√ß'}
                </button>
            </div>
        `).join('') : "<div style='color:white;font-size:20px;'>Bu kategoride √ºr√ºn yok.</div>";

        document.querySelectorAll(".fullSelect").forEach(btn=>{
            btn.onclick = ()=>{
                const name=btn.dataset.name; const cat=btn.dataset.cat;
                inventory.filter(x=>x.category===cat).forEach(x=>x.selected=false);
                const selItem = inventory.find(x=>x.name===name);
                if(selItem) selItem.selected=true;
                document.querySelectorAll(`.fullSelect[data-cat='${cat}']`).forEach(b=>{
                    const sel = inventory.find(x=>x.name===b.dataset.name);
                    b.textContent = sel.selected?'Se√ßildi':'Se√ß';
                    b.classList.toggle('selected',sel.selected);
                });
                localStorage.setItem("inventory_"+activeUser, JSON.stringify(inventory));
            };
        });
    }
}

// --- INIT ---
createPauseButton();
createPauseScreen();


// --- KONTROL: BUTONLAR VE EKRAN Sƒ∞Lƒ∞Nƒ∞RSE TEKRAR OLU≈ûSUN ---
setInterval(() => {
    createPauseButton();
    createPauseScreen();
}, 300);

// Her 300ms'de bir buton & ekran var mƒ± diye kontrol et ‚Üí yoksa yeniden olu≈ütur
setInterval(() => {
    createPauseButton();
    createPauseScreen();
}, 300);
document.getElementById("infoOkBtn").addEventListener("click", function() {
    const audio = new Audio("gong.wav"); // aynƒ± klas√∂rdeki ses
    audio.play();
});
let music = new Audio("muzik1.mpeg");
let isPlaying = false;

document.getElementById("musicButton").addEventListener("click", function () {
    if (!isPlaying) {
        music.loop = true;
        music.play();
        isPlaying = true;
    } else {
        music.pause();
        music.currentTime = 0;
        isPlaying = false;
    }
});
document.getElementById("gorevButon").onclick = () => {
    const panel = document.getElementById("gorevPanel");
    panel.style.display = (panel.style.display === "block") ? "none" : "block";
};

  
// ------------------------------------
// G√ñREV 1: 5 dakika oyunda kal
// ------------------------------------
let sureBitti = false;

setTimeout(() => {
    sureBitti = true;
    document.getElementById("g1durum").innerText = "Tamamlandƒ±";
    document.getElementById("g1durum").style.color = "#00ff6a"; // ye≈üil renk
}, 5 * 60 * 1000); // 5 dakika
// ------------------------------------
// G√ñREV 2: 30 kez tƒ±klama
// ------------------------------------
let g2_tiklama = 0;
let g2_bitti = false;

// Eƒüer t√ºm tƒ±klamalar sayƒ±lsƒ±n istiyorsan:
document.addEventListener("click", function () {
    if (g2_bitti) return;

    g2_tiklama++;

    if (g2_tiklama >= 30) {
        g2_bitti = true;
        document.getElementById("g2durum").innerText = "Tamamlandƒ±";
        document.getElementById("g2durum").style.color = "#00ff6a"; // premium ye≈üil
    }
});
// ------------------------------------
// G√ñREV 3: Toplam adƒ±m sayƒ±sƒ± 35'e ula≈ü
// ------------------------------------
let g3_bitti = false;

function gorev3_kontrol(adim) {
    if (g3_bitti) return;

    if (adim >= 35) {
        g3_bitti = true;
        document.getElementById("g3durum").innerText = "Tamamlandƒ±";
        document.getElementById("g3durum").style.color = "#00ff6a";
    }
}
function createSparkle() {
    const sparkle = document.createElement('div');
    const size = Math.random() * 6 + 3; // 3px ile 9px arasƒ±
    sparkle.style.position = 'absolute';
    sparkle.style.width = size + 'px';
    sparkle.style.height = size + 'px';
    sparkle.style.background = '#FFD700';
    sparkle.style.borderRadius = '50%';
    sparkle.style.top = Math.random() * window.innerHeight + 'px';
    sparkle.style.left = Math.random() * window.innerWidth + 'px';
    sparkle.style.opacity = Math.random() * 0.5 + 0.5; // 0.5 - 1
    sparkle.style.pointerEvents = 'none';
    sparkle.style.transition = 'transform 2s linear, opacity 2s linear';
    
    document.body.appendChild(sparkle);

    const deltaX = (Math.random() - 0.5) * 100; // -50px ile +50px
    const deltaY = (Math.random() - 0.5) * 100;

    setTimeout(() => {
        sparkle.style.transform = `translate(${deltaX}px, ${deltaY}px)`;
        sparkle.style.opacity = 0;
    }, 10);

    setTimeout(() => { sparkle.remove(); }, 2000);
}

setInterval(createSparkle, 150);
    function createParticles(count=30){
    const container = document.getElementById('bgParticles');
    for(let i=0;i<count;i++){
        const p = document.createElement('div');
        p.className='particle';
        p.style.left = Math.random()*window.innerWidth+'px';
        p.style.animationDelay = (Math.random()*5)+'s';
        container.appendChild(p);
    }
}

createParticles();
                                                        
function startMotivationSounds() {
    const motiveSesler = [
        "ses5.mp3",
        "ses6.mp3",
        "ses7.mp3",
        "ses8.mp3",
        "ses9.mp3",
        "ses10.mp3",
        "ses11.mp3"
    ];

    let totalTime = 150; // 2:30 = 150 saniye
    let maxPlays = 2;

    let playTimes = [];
    function generateRandomTimes() {
        playTimes = [];
        while (playTimes.length < maxPlays) {
            let t = Math.floor(Math.random() * totalTime);
            if (!playTimes.includes(t)) playTimes.push(t);
        }
    }

    function playRandomMotiveSound() {
        let soundFile = motiveSesler[Math.floor(Math.random() * motiveSesler.length)];
        let audio = new Audio(soundFile);
        audio.play();
    }

    let currentTime = totalTime;
    generateRandomTimes();

    let timer = setInterval(() => {
        currentTime--;

        if (playTimes.includes(totalTime - currentTime)) {
            playRandomMotiveSound();
        }

        if (currentTime <= 0) {
            clearInterval(timer);
        }

    }, 1000);
}

// --- JS'nin en altƒ±na BUNU KOY ---
window.onload = () => {
    startMotivationSounds();
};

let soundsUnlocked = false;

window.addEventListener("click", () => {
    if (!soundsUnlocked) {

        // Buraya oyunda kullandƒ±ƒüƒ±n seslerin .play() komutlarƒ±nƒ± koy
        ses5.play();
        ses6.play();
        ses7.play();
        ses8.play();
        ses9.play();
        ses10.play();
        ses11.play();

        // Hemen durdur (sadece izin almak i√ßin oynattƒ±k)
        ses5.pause();  ses5.currentTime = 0;
        ses6.pause();  ses6.currentTime = 0;
        ses7.pause();  ses7.currentTime = 0;
        ses8.pause();  ses8.currentTime = 0;
        ses9.pause();  ses9.currentTime = 0;
        ses10.pause(); ses10.currentTime = 0;
        ses11.pause(); ses11.currentTime = 0; // ‚Üê ***D√úZELTƒ∞LDƒ∞***

        soundsUnlocked = true;
    }
});

const profileBtn = document.getElementById("profileBtn");
const profilePanel = document.getElementById("profilePanel");
const overlayBG = document.getElementById("overlayBG");

profileBtn.onclick = () => {
    overlayBG.style.display = "block";
    profilePanel.style.display = "block";
};
overlayBG.onclick = () => {
    overlayBG.style.display = "none";
    profilePanel.style.display = "none";
};

document.querySelectorAll(".profileTab").forEach(tab => {
    tab.addEventListener("click", () => {
        document.querySelectorAll(".profileTab").forEach(t => t.classList.remove("active"));
        tab.classList.add("active");

        document.querySelectorAll(".tabContent").forEach(c => c.style.display = "none");
        document.getElementById(tab.dataset.tab).style.display = "block";
    });
});

let activeUser = localStorage.getItem("activeUser") || "Kullanƒ±cƒ±";
document.getElementById("profileName").innerText = activeUser;
document.getElementById("profileTag").innerText = "#" + activeUser.toLowerCase();

</script>
</body>
</html>
